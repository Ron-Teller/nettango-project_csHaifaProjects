{"spaces":[{"id":0,"spaceId":"ntb-defs-0","name":"setup","width":430,"height":500,"defs":{"version":5,"height":500,"width":430,"blocks":[{"id":0,"action":"הגדר עולם","required":true,"placement":"starter","fontSize":14,"start":true,"control":false,"type":"nlogo:procedure","format":"to #blocks#create-world","limit":1,"blockColor":"#00d619","textColor":"#ffffff","borderColor":"#fbff00"},{"id":4,"action":"צור קן נמלים","required":false,"placement":"child","format":"create-circular-nest-with-ants {0} {1} {2} {3}","blockColor":"#ac00db","textColor":"#ffffff","params":[{"id":0,"type":"range","name":"מיקום בציר אופקי","step":1,"random":false,"min":-35,"max":35},{"id":1,"type":"range","name":"מיקום בציר אנכי","step":1,"random":false,"min":0,"max":10},{"id":2,"type":"range","name":"גודל","step":1,"random":false,"min":1,"max":10},{"id":3,"type":"int","name":"כמות נמלים","step":1,"default":50}]},{"id":5,"action":"צור ערימת אוכל","required":false,"placement":"child","format":"create-circular-mound-food-source {0} {1} {2}","blockColor":"#dc0404","textColor":"#ffffff","params":[{"id":0,"type":"range","name":"מיקום בציר אופקי","step":1,"random":false,"min":-35,"max":35},{"id":1,"type":"range","name":"מיקום בציר אנכי","step":1,"random":false,"min":-35,"max":35},{"id":2,"type":"range","name":"גודל","step":1,"random":false,"min":0,"max":10}]}],"program":{"chains":[{"x":17,"y":18,"blocks":[{"id":0,"action":"הגדר עולם","required":true,"placement":"starter","instanceId":0,"type":"nlogo:procedure","format":"to #blocks#create-world","blockColor":"#00d619","textColor":"#ffffff","borderColor":"#fbff00"},{"id":4,"action":"צור קן נמלים","required":false,"placement":"child","instanceId":1,"format":"create-circular-nest-with-ants {0} {1} {2} {3}","blockColor":"#ac00db","textColor":"#ffffff","params":[{"id":0,"type":"range","name":"מיקום בציר אופקי","step":1,"random":false,"value":0,"min":-35,"max":35},{"id":1,"type":"range","name":"מיקום בציר אנכי","step":1,"random":false,"value":0,"min":0,"max":10},{"id":2,"type":"range","name":"גודל","step":1,"random":false,"value":4,"min":1,"max":10},{"id":3,"type":"int","name":"כמות נמלים","step":1,"value":100,"default":50}]},{"id":5,"action":"צור ערימת אוכל","required":false,"placement":"child","instanceId":2,"format":"create-circular-mound-food-source {0} {1} {2}","blockColor":"#dc0404","textColor":"#ffffff","params":[{"id":0,"type":"range","name":"מיקום בציר אופקי","step":1,"random":false,"value":21,"min":-35,"max":35},{"id":1,"type":"range","name":"מיקום בציר אנכי","step":1,"random":false,"value":0,"min":-35,"max":35},{"id":2,"type":"range","name":"גודל","step":1,"random":false,"value":5,"min":0,"max":10}]},{"id":5,"action":"צור ערימת אוכל","required":false,"placement":"child","instanceId":3,"format":"create-circular-mound-food-source {0} {1} {2}","blockColor":"#dc0404","textColor":"#ffffff","params":[{"id":0,"type":"range","name":"מיקום בציר אופקי","step":1,"random":false,"value":-21,"min":-35,"max":35},{"id":1,"type":"range","name":"מיקום בציר אנכי","step":1,"random":false,"value":-21,"min":-35,"max":35},{"id":2,"type":"range","name":"גודל","step":1,"random":false,"value":5,"min":0,"max":10}]},{"id":5,"action":"צור ערימת אוכל","required":false,"placement":"child","instanceId":4,"format":"create-circular-mound-food-source {0} {1} {2}","blockColor":"#dc0404","textColor":"#ffffff","params":[{"id":0,"type":"range","name":"מיקום בציר אופקי","step":1,"random":false,"value":-28,"min":-35,"max":35},{"id":1,"type":"range","name":"מיקום בציר אנכי","step":1,"random":false,"value":28,"min":-35,"max":35},{"id":2,"type":"range","name":"גודל","step":1,"random":false,"value":5,"min":0,"max":10}]}]}]},"blockStyles":{"starterBlockStyle":{"blockColor":"#bb5555","textColor":"#ffffff","borderColor":"#ffffff","fontWeight":"","fontSize":"","fontFace":""},"containerBlockStyle":{"blockColor":"#8899aa","textColor":"#ffffff","borderColor":"#ffffff","fontWeight":"","fontSize":"","fontFace":""},"commandBlockStyle":{"blockColor":"#9977aa","textColor":"#ffffff","borderColor":"#ffffff","fontWeight":"","fontSize":"","fontFace":""}},"expressions":[{"name":"true","type":"bool"},{"name":"false","type":"bool"},{"name":"AND","type":"bool","arguments":["bool","bool"],"format":"({0} and {1})"},{"name":"OR","type":"bool","arguments":["bool","bool"],"format":"({0} or {1})"},{"name":"NOT","type":"bool","arguments":["bool"],"format":"(not {0})"},{"name":">","type":"bool","arguments":["num","num"]},{"name":">=","type":"bool","arguments":["num","num"]},{"name":"<","type":"bool","arguments":["num","num"]},{"name":"<=","type":"bool","arguments":["num","num"]},{"name":"!=","type":"bool","arguments":["num","num"]},{"name":"=","type":"bool","arguments":["num","num"]},{"name":"+","type":"num","arguments":["num","num"]},{"name":"-","type":"num","arguments":["num","num"]},{"name":"×","type":"num","arguments":["num","num"],"format":"({0} * {1})"},{"name":"/","type":"num","arguments":["num","num"]},{"name":"random","type":"num","arguments":["num"],"format":"random-float {0}"}]},"netLogoCode":"to #blocks#create-world\n  create-circular-nest-with-ants (nt:get \"__ntb-defs-0-canvas_4_1_0\") (nt:get \"__ntb-defs-0-canvas_4_1_1\") (nt:get \"__ntb-defs-0-canvas_4_1_2\") (nt:get \"__ntb-defs-0-canvas_4_1_3\")\n  create-circular-mound-food-source (nt:get \"__ntb-defs-0-canvas_5_2_0\") (nt:get \"__ntb-defs-0-canvas_5_2_1\") (nt:get \"__ntb-defs-0-canvas_5_2_2\")\n  create-circular-mound-food-source (nt:get \"__ntb-defs-0-canvas_5_3_0\") (nt:get \"__ntb-defs-0-canvas_5_3_1\") (nt:get \"__ntb-defs-0-canvas_5_3_2\")\n  create-circular-mound-food-source (nt:get \"__ntb-defs-0-canvas_5_4_0\") (nt:get \"__ntb-defs-0-canvas_5_4_1\") (nt:get \"__ntb-defs-0-canvas_5_4_2\")\nend","netLogoDisplay":"to #blocks#create-world\n  create-circular-nest-with-ants 0 0 4 100\n  create-circular-mound-food-source 21 0 5\n  create-circular-mound-food-source -21 -21 5\n  create-circular-mound-food-source -28 28 5\nend"},{"id":1,"spaceId":"ntb-defs-1","name":"go","width":700,"height":1200,"defs":{"version":5,"height":1200,"width":700,"blocks":[{"id":0,"action":"הגדירו איזה צעדים הנמלים נוקטים כל תור","required":true,"placement":"starter","start":true,"control":false,"type":"nlogo:procedure","format":"to #blocks#advance-ants-1-turn","limit":1,"blockColor":"#808080"},{"id":1,"action":"כל נמלה תבצע את הצעדים הבאים","required":false,"placement":"child","start":false,"control":true,"type":"nlogo:if","format":"ask ants","limit":1,"blockColor":"#ca0000","clauses":[{"children":[]}]},{"id":2,"action":"אם אני לא סוחבת אוכל","required":false,"placement":"child","start":false,"control":true,"type":"nlogo:if","format":"if not is-carrying-food","blockColor":"#00b3b3","clauses":[{"children":[]}]},{"id":3,"action":"אם אני סוחבת אוכל","required":false,"placement":"child","start":false,"control":true,"type":"nlogo:if","format":"if is-carrying-food","blockColor":"#00b3b3","clauses":[{"children":[]}]},{"id":4,"action":"אסתובב לכיוון ריח פרומון האוכל החזק ביותר","required":false,"placement":"child","start":false,"control":false,"type":"nlogo:command","format":"move-towards-food","blockColor":"#00b92f"},{"id":5,"action":"אסתובב לאחור","required":false,"placement":"child","start":false,"control":false,"type":"nlogo:command","format":"turn-around","blockColor":"#ca0000"},{"id":6,"action":"ארים את האוכל שמתחתי","required":false,"placement":"child","start":false,"control":false,"type":"nlogo:command","format":"pick-up-food-from-patch\n","blockColor":"#ca0000"},{"id":7,"action":"אם יש פה אוכל","required":false,"placement":"child","start":false,"control":true,"type":"nlogo:if","format":"if is-ant-standing-on-food","blockColor":"#2e849c","clauses":[{"children":[]}]},{"id":8,"action":"אסתובב לכיוון ריח פרומון הקן החזק ביותר","required":false,"placement":"child","start":false,"control":false,"type":"nlogo:command","format":"turn-towards-nest","blockColor":"#6f00dd"},{"id":9,"action":"אשחרר פרומון אוכל","required":false,"placement":"child","start":false,"control":false,"type":"nlogo:command","format":"#blocks#release-food-pheromone","blockColor":"#00b92f"},{"id":10,"action":"אם אני בקן שלי","required":false,"placement":"child","start":false,"control":true,"type":"nlogo:if","format":"if is-ant-standing-on-home-nest","blockColor":"#2e849c","clauses":[{"children":[]}]},{"id":11,"action":"אם אני לא בקן שלי","required":false,"placement":"child","start":false,"control":true,"type":"nlogo:if","format":"if not is-ant-standing-on-home-nest","blockColor":"#2e849c","clauses":[{"children":[]}]},{"id":12,"action":"אוסיף אוכל שאני סוחבת לקן מתחתי","required":false,"placement":"child","start":false,"control":false,"type":"nlogo:command","format":"add-food-to-nest-ant-is-standing-on","blockColor":"#ca0000"},{"id":13,"action":"אתקדם צעד 1 עם שינוי כיוון רנדומלי","required":false,"placement":"child","start":false,"control":false,"type":"nlogo:command","format":"#blocks#walk-random {0}","blockColor":"#ca0000","params":[{"id":0,"type":"range","name":"טווח שינוי זווית","step":1,"random":false,"default":90,"min":0,"max":360}]},{"id":14,"action":"אתקדם צעד 1 קדימה","required":false,"placement":"child","start":false,"control":false,"type":"nlogo:command","format":"#blocks#straight","blockColor":"#ca0000"},{"id":17,"action":"אשחרר פרומון של הקן שלי","required":false,"placement":"child","start":false,"control":false,"type":"nlogo:command","format":"#blocks#release-nest-pheromone","blockColor":"#6f00dd"},{"id":20,"action":"אתקדם צעד 1 בזיגזג","required":false,"placement":"child","start":false,"control":false,"type":"nlogo:command","format":"#blocks#zigzag","blockColor":"#ca0000"},{"id":22,"action":"אם אין פה אוכל","required":false,"placement":"child","start":false,"control":true,"type":"nlogo:if","format":"if not is-ant-standing-on-food","blockColor":"#379fbd","clauses":[{"children":[]}]}],"program":{"chains":[{"x":13,"y":10,"blocks":[{"id":0,"action":"הגדירו איזה צעדים הנמלים נוקטים כל תור","required":true,"placement":"starter","instanceId":0,"type":"nlogo:procedure","format":"to #blocks#advance-ants-1-turn","blockColor":"#808080"},{"id":1,"action":"כל נמלה תבצע את הצעדים הבאים","required":false,"placement":"child","instanceId":1,"type":"nlogo:if","format":"ask ants","blockColor":"#ca0000","clauses":[{"children":[{"id":2,"action":"אם אני לא סוחבת אוכל","required":false,"placement":"child","instanceId":2,"type":"nlogo:if","format":"if not is-carrying-food","blockColor":"#00b3b3","clauses":[{"children":[{"id":17,"action":"אשחרר פרומון של הקן שלי","required":false,"placement":"child","instanceId":27,"type":"nlogo:command","format":"#blocks#release-nest-pheromone","blockColor":"#6f00dd"},{"id":4,"action":"אסתובב לכיוון ריח פרומון האוכל החזק ביותר","required":false,"placement":"child","instanceId":28,"type":"nlogo:command","format":"move-towards-food","blockColor":"#00b92f"},{"id":7,"action":"אם יש פה אוכל","required":false,"placement":"child","instanceId":29,"type":"nlogo:if","format":"if is-ant-standing-on-food","blockColor":"#2e849c","clauses":[{"children":[{"id":6,"action":"ארים את האוכל שמתחתי","required":false,"placement":"child","instanceId":30,"type":"nlogo:command","format":"pick-up-food-from-patch\n","blockColor":"#ca0000"},{"id":5,"action":"אסתובב לאחור","required":false,"placement":"child","instanceId":31,"type":"nlogo:command","format":"turn-around","blockColor":"#ca0000"}]}]}]}]},{"id":3,"action":"אם אני סוחבת אוכל","required":false,"placement":"child","instanceId":5,"type":"nlogo:if","format":"if is-carrying-food","blockColor":"#00b3b3","clauses":[{"children":[{"id":9,"action":"אשחרר פרומון אוכל","required":false,"placement":"child","instanceId":32,"type":"nlogo:command","format":"#blocks#release-food-pheromone","blockColor":"#00b92f"},{"id":8,"action":"אסתובב לכיוון ריח פרומון הקן החזק ביותר","required":false,"placement":"child","instanceId":33,"type":"nlogo:command","format":"turn-towards-nest","blockColor":"#6f00dd"},{"id":10,"action":"אם אני בקן שלי","required":false,"placement":"child","instanceId":34,"type":"nlogo:if","format":"if is-ant-standing-on-home-nest","blockColor":"#2e849c","clauses":[{"children":[{"id":12,"action":"אוסיף אוכל שאני סוחבת לקן מתחתי","required":false,"placement":"child","instanceId":35,"type":"nlogo:command","format":"add-food-to-nest-ant-is-standing-on","blockColor":"#ca0000"},{"id":5,"action":"אסתובב לאחור","required":false,"placement":"child","instanceId":36,"type":"nlogo:command","format":"turn-around","blockColor":"#ca0000"}]}]}]}]},{"id":20,"action":"אתקדם צעד 1 בזיגזג","required":false,"placement":"child","instanceId":8,"type":"nlogo:command","format":"#blocks#zigzag","blockColor":"#ca0000"}]}]}]}]},"blockStyles":{"starterBlockStyle":{"blockColor":"#bb5555","textColor":"#ffffff","borderColor":"#ffffff","fontWeight":"","fontSize":"","fontFace":""},"containerBlockStyle":{"blockColor":"#8899aa","textColor":"#ffffff","borderColor":"#ffffff","fontWeight":"","fontSize":"","fontFace":""},"commandBlockStyle":{"blockColor":"#9977aa","textColor":"#ffffff","borderColor":"#ffffff","fontWeight":"","fontSize":"","fontFace":""}},"expressions":[{"name":"true","type":"bool"},{"name":"false","type":"bool"},{"name":"AND","type":"bool","arguments":["bool","bool"],"format":"({0} and {1})"},{"name":"OR","type":"bool","arguments":["bool","bool"],"format":"({0} or {1})"},{"name":"NOT","type":"bool","arguments":["bool"],"format":"(not {0})"},{"name":">","type":"bool","arguments":["num","num"]},{"name":">=","type":"bool","arguments":["num","num"]},{"name":"<","type":"bool","arguments":["num","num"]},{"name":"<=","type":"bool","arguments":["num","num"]},{"name":"!=","type":"bool","arguments":["num","num"]},{"name":"=","type":"bool","arguments":["num","num"]},{"name":"+","type":"num","arguments":["num","num"]},{"name":"-","type":"num","arguments":["num","num"]},{"name":"×","type":"num","arguments":["num","num"],"format":"({0} * {1})"},{"name":"/","type":"num","arguments":["num","num"]},{"name":"random","type":"num","arguments":["num"],"format":"random-float {0}"}]},"netLogoCode":"to #blocks#advance-ants-1-turn\n  ask ants\n  [\n    if not is-carrying-food\n    [\n      #blocks#release-nest-pheromone\n      move-towards-food\n      if is-ant-standing-on-food\n      [\n        pick-up-food-from-patch\n        \n        turn-around\n      ]\n    ]\n    if is-carrying-food\n    [\n      #blocks#release-food-pheromone\n      turn-towards-nest\n      if is-ant-standing-on-home-nest\n      [\n        add-food-to-nest-ant-is-standing-on\n        turn-around\n      ]\n    ]\n    #blocks#zigzag\n  ]\nend","netLogoDisplay":"to #blocks#advance-ants-1-turn\n  ask ants\n  [\n    if not is-carrying-food\n    [\n      #blocks#release-nest-pheromone\n      move-towards-food\n      if is-ant-standing-on-food\n      [\n        pick-up-food-from-patch\n        \n        turn-around\n      ]\n    ]\n    if is-carrying-food\n    [\n      #blocks#release-food-pheromone\n      turn-towards-nest\n      if is-ant-standing-on-home-nest\n      [\n        add-food-to-nest-ant-is-standing-on\n        turn-around\n      ]\n    ]\n    #blocks#zigzag\n  ]\nend"}],"netTangoToggles":{"workspaceBelow":true,"showCode":false},"tabOptions":{"commandCenterTab":true,"codeTab":true,"infoTab":true,"speedBar":false,"fileButtons":false,"authoring":true,"tabsPosition":true,"poweredBy":false},"blockStyles":{"starterBlockStyle":{"blockColor":"#bb5555","textColor":"#ffffff","borderColor":"#ffffff","fontWeight":"","fontSize":"","fontFace":""},"containerBlockStyle":{"blockColor":"#8899aa","textColor":"#ffffff","borderColor":"#ffffff","fontWeight":"","fontSize":"","fontFace":""},"commandBlockStyle":{"blockColor":"#9977aa","textColor":"#ffffff","borderColor":"#ffffff","fontWeight":"","fontSize":"","fontFace":""}},"title":"ants","extraCss":"","code":"extensions [import-a fetch]\n;extensions [import-a profiler]\n\nglobals[\n  minimum-separation\n  max-separate-turn\n  last-world-file-that-was-loaded\n  radius-ant-searches-for-flockmates\n  brush-in-draw-mode\n  ant-walking-style\n  display-pheromone-type\n  brush-shape\n  brush-type\n  background-type-being-displayed\n  local-background-image-file-path-chosen-by-user\n  brush-type-icon\n  brush-draw-erase-mode-icon\n  brush-icon-size\n  brush-icon-transparency-normalized\n  min-who-number-of-ants-after-setup\n  food-pheromone-color-rgb\n  nest-pheromone-color-rgb\n  amount-of-food-in-nests\n  food-count-in-each-food-source\n  show-pheromone?\n  center-of-nests\n  center-of-food-sources\n  patches-occupied-by-food-sources\n  -patches-with-barriers\n  nests-information-gfx-overlay\n  food-sources-information-gfx-overlay\n  average-xy-coordinates-of-patches-occupied-by-food-sources\n  food-source-numbers-used-so-far\n  nest-source-numbers-used-so-far\n  current-nest-displaying-pheromone\n  -brush-border-outline\n  -brush-cursor\n  tick-count-when-brush-was-last-activated\n  mouse-down?-when-brush-was-last-activated\n  mousexy-when-brush-was-last-activated\n  current-mousexy\n  current-mouse-down?\n  current-mouse-inside?\n  patches-drawn-on-since-brush-was-held-down\n  pheromone-drop-rate\n  pheromone-diffusion-rate\n  pheromone-evaporation-rate\n  food-sniff-sensitivity-lower-threshold\n  nest-sniff-sensitivity-lower-threshold\n  pheromone-released-decrease-rate\n  food-source-colors\n  nest-source-colors\n  spread-pheromones-every-number-of-ticks\n]\n\npatches-own [\n  food-pheromone-list\n  nest-pheromone-list\n  tmp-food-pheromone-value\n  tmp-nest-pheromone-value\n  is-barrier\n  amount-of-food\n  food-source-number\n  ;is-nest\n  ;nest-source-number\n  ;tmp-pheromone-list-used-for-diffuse\n  ;pheromone-gfx\n]\n\nants-own [\n  home-nest-source-number\n  food-pheromone-released\n  nest-pheromone-released\n  amount-of-food-carried\n  pheromone-zero-clock\n  ;leader\n  ;nearest-neighbor\n  ;flockmates\n]\n\nnests-own [\n  source-number\n]\n\n;food-own [\n;  source-number\n;]\n\nant-markers-own [\n  ant-being-marked\n]\n\nnest-information-gfx-overlay-own [\n  nest-source-number-gfx-overlay\n  food-count-gfx-overlay\n  ant-count-gfx-overlay\n]\n\nfood-information-gfx-overlay-own [\n  food-source-number-gfx-overlay\n  food-count-gfx-overlay\n]\n\n;breed [patch-pheromone-gfx a-patch-pheromone-gfx]\nbreed [food-information-gfx-overlay a-food-information-gfx-overlay]\nbreed [nest-information-gfx-overlay a-nest-information-gfx-overlay]\nbreed [nests nest]\n;breed [food a-food]\nbreed [ants ant]\n;breed [barriers barrier]\nbreed [ant-markers ant-marker]\nbreed [gfx-overlay a-gfx-overlay]\nbreed [brush-border-outlines brush-border-outline]\nbreed [brush-cursors brush-cursor]\n;;;;;;;;;;;;;;;;;;;;;;;;\n;;; Setup procedures ;;;\n;;;;;;;;;;;;;;;;;;;;;;;;\n\nto setup\n  ;todo clean up this code logic for reload, its messy\n  let temp-last-world-file-that-was-loaded last-world-file-that-was-loaded\n  let temp-background-image-file-path local-background-image-file-path-chosen-by-user\n  let temp-background-type-being-displayed background-type-being-displayed\n  clear-all\n  reset-ticks\n  set last-world-file-that-was-loaded temp-last-world-file-that-was-loaded\n  set local-background-image-file-path-chosen-by-user temp-background-image-file-path\n  set background-type-being-displayed temp-background-type-being-displayed\n  setup-globals\n  setup-patches\n  ;set-background-image\n  setup-brush\n  ;create-world\n  #blocks#create-world\n  recolor-all-patches\n  update-all-nest-information\n  update-all-plots\nend\n\nto quick-fix-running-world-without-nests\nend\n\nto create-world\n  setup-food\n  setup-nests\n  setup-ants\nend\n\nto set-background-image\n  ifelse user-has-chosen-local-background-image [\n    set-background-image-to-file-chosen-by-user ]\n  [\n    ifelse is-default-background-specified [\n      set-background-image-to-default ]\n    [\n    ]\n  ]\nend\n\nto-report is-empty-background-specified\n  report background-type-being-displayed = \"none\"\nend\n\nto-report is-default-background-specified\n  report background-type-being-displayed = \"default\"\nend\n\nto clear-background\n  clear-drawing\nend\n\nto clear-ant-trails\n  clear-drawing\n  set-background-image\nend\n\nto remove-background-image\n  clear-drawing\n  set background-type-being-displayed \"none\"\nend\n\nto display-food-pheromone\n  set display-pheromone-type \"food\"\n  recolor-all-patches\nend\n\nto display-nest-pheromone\n  set display-pheromone-type \"nest\"\n  recolor-all-patches\nend\n\nto-report user-has-chosen-local-background-image\n  report background-type-being-displayed = \"local\"\n  ;report not (local-background-image-file-path-chosen-by-user = 0)\nend\n\nto set-background-image-to-file-chosen-by-user\n  carefully [\n    import-drawing local-background-image-file-path-chosen-by-user\n    import-drawing local-background-image-file-path-chosen-by-user\n    set background-type-being-displayed \"local\"\n  ] []\nend\n\nto setup-brush\n  set brush-in-draw-mode true\n  set brush-shape \"square\"\n  set brush-type \"barrier\"\n  set brush-icon-size 4\n  set brush-icon-transparency-normalized 0.8\n  set tick-count-when-brush-was-last-activated 0\n  create-brush-border-outlines 1 [hide-turtle set -brush-border-outline self]\n  create-brush-cursors 1 [hide-turtle set -brush-cursor self]\n  create-gfx-overlay 1 [set brush-type-icon self\n    set color add-transparency red brush-icon-transparency-normalized\n    setxy (max-pxcor - brush-icon-size - ((brush-icon-size - 1) * 0.5)) (max-pycor - ((brush-icon-size - 1) * 0.5))\n    set size brush-icon-size]\n  create-gfx-overlay 1 [set brush-draw-erase-mode-icon self\n    set color add-transparency red brush-icon-transparency-normalized\n    setxy (max-pxcor - ((brush-icon-size - 1) * 0.5)) (max-pycor - ((brush-icon-size - 1) * 0.5))\n    set size brush-icon-size ]\n  update-brush-cursor-icon\n  update-brush-type-icon\n  update-brush-add-erase-mode-icon\nend\n\nto update-brush-type-icon\n  update-brush-type-icon-shape\n  update-brush-type-icon-color\nend\n\nto update-brush-type-icon-shape\n  ask brush-type-icon [set shape word \"brush-type-icon-\" brush-type]\nend\n\nto update-brush-type-icon-color\n  ifelse brush-type = \"barrier\" [set-brush-type-icon-color barrier-color ]\n  [\n    ifelse brush-type = \"trail\" or brush-type = \"mark\" [set-brush-type-icon-color blue ]\n    [\n      ifelse brush-type = \"nest\" [set-brush-type-icon-color nest-source-number-color 0]\n      [\n        set-brush-type-icon-color red\n      ]\n    ]\n  ]\nend\n\nto set-brush-type-icon-color [-color]\n  ask brush-type-icon [set color add-transparency -color brush-icon-transparency-normalized]\nend\n\nto update-brush-add-erase-mode-icon\n  ifelse is-brush-in-draw-mode [\n    set-brush-draw-erase-icon-to-draw ]\n  [\n    set-brush-draw-erase-icon-to-erase ]\nend\n\nto-report add-transparency [-color transparency-normalized]\n  report lput (transparency-normalized * 255) extract-rgb -color\nend\n\nto setup-globals\n  update-pheromone-color-rgb\n  set show-pheromone? true\n  set food-count-in-each-food-source []\n  set background-type-being-displayed ifelse-value background-type-being-displayed = 0 [\"default\"] [background-type-being-displayed]\n  set pheromone-drop-rate 10\n  set pheromone-diffusion-rate 0.4\n  set pheromone-evaporation-rate 0.5\n  set food-sniff-sensitivity-lower-threshold 0.02\n  set nest-sniff-sensitivity-lower-threshold 0\n  set pheromone-released-decrease-rate 1.45\n  set display-pheromone-type \"food\"\n  set ant-walking-style \"zig-zag\"\n  set amount-of-food-in-nests []\n  set center-of-nests []\n  set center-of-food-sources []\n  set nests-information-gfx-overlay []\n  set food-sources-information-gfx-overlay []\n  set minimum-separation 1\n  set max-separate-turn 1.5\n  set radius-ant-searches-for-flockmates 3\n  set mouse-down?-when-brush-was-last-activated false\n  set mousexy-when-brush-was-last-activated [ ]\n  set patches-drawn-on-since-brush-was-held-down no-patches\n  set current-mousexy (list mouse-xcor mouse-ycor)\n  set current-mouse-down? mouse-down?\n  set current-mouse-inside?  mouse-inside?\n  set last-world-file-that-was-loaded \"\"\n  set food-source-numbers-used-so-far []\n  set nest-source-numbers-used-so-far []\n  set patches-occupied-by-food-sources []\n  set -patches-with-barriers no-patches\n  set current-nest-displaying-pheromone 0\n  set average-xy-coordinates-of-patches-occupied-by-food-sources []\n  set spread-pheromones-every-number-of-ticks 3\n  ;set food-source-colors [red sky yellow orange lime brown cyan magenta pink gray turquoise violet green blue]\n  set food-source-colors [red sky violet lime orange brown yellow magenta blue pink green gray turquoise cyan]\n  set nest-source-colors [red violet orange lime pink gray turquoise magenta cyan sky green blue]\nend\n\nto update-pheromone-color-rgb\n  set food-pheromone-color-rgb extract-rgb food-pheromone-color\n  set nest-pheromone-color-rgb extract-rgb nest-pheromone-color\nend\n\nto setup-nests\n  create-circular-nest 0 0 5\n  ;create-circular-nest -20 10 5\nend\n\nto setup-food\n  create-circular-mound-food-source (0.6 * max-pxcor) 0 5\n  create-circular-mound-food-source (-0.6 * max-pxcor) (-0.6 * max-pycor) 5\n  create-circular-mound-food-source (-0.8 * max-pxcor) (0.8 * max-pycor) 5\nend\n\nto setup-ants\n  let number-of-ants 200\n  let existing-nest-source-numbers remove-duplicates [source-number] of nests\n  let amount-of-ants-to-spawn-at-each-nest number-of-ants / (length existing-nest-source-numbers)\n  foreach existing-nest-source-numbers [-nest-source-number -> spawn-ants-at-nest amount-of-ants-to-spawn-at-each-nest -nest-source-number]\n  set min-who-number-of-ants-after-setup min [who] of ants\nend\n\nto setup-patches\n  ask patches [\n    set food-pheromone-list []\n    set nest-pheromone-list []\n    set is-barrier false\n    set amount-of-food 0\n    ;set is-nest false\n;    sprout-patch-pheromone-gfx 1 [\n;      set shape \"square full\"\n;      ;set shape \"polygon full\"\n;      set color [0 0 0 0]\n;      ;set pheromone-gfx self\n;      ;hide-turtle\n;    ]\n  ]\nend\n\n;to start-profiler\n;  profiler:start\n;end\n\n;to stop-profiler\n;  profiler:stop\n;  print profiler:report\n;  profiler:reset\n;end\n\nto update-all-nest-information\n  foreach nest-source-numbers-used-so-far [-nest-source-number -> update-nest-information-gfx-overlay -nest-source-number]\nend\n\n;to update-all-food-information\n;  foreach food-source-numbers-used-so-far [-food-source-number -> update-food-information-gfx-overlay -food-source-number]\n;end\n\nto user-set-brush-to-draw\n  set brush-in-draw-mode true\n  on-user-set-brush-to-draw\nend\n\nto user-set-brush-to-erase\n  set brush-in-draw-mode false\n  on-user-set-brush-to-erase\nend\n\nto on-user-set-brush-to-draw\n  set-brush-draw-erase-icon-to-draw\n  set-brush-cursor-icon-to-draw\nend\n\nto on-user-set-brush-to-erase\n  set-brush-draw-erase-icon-to-erase\n  set-brush-icon-to-erase\nend\n\nto set-brush-cursor-icon-to-draw\n  ask -brush-cursor [set shape \"brush-cursor-draw6\" set size 3]\nend\n\nto set-brush-icon-to-erase\n  ask -brush-cursor [set shape \"brush-cursor-erase\" set size 3]\nend\n\nto update-brush-cursor-icon\n  ifelse is-brush-in-draw-mode [\n    set-brush-cursor-icon-to-draw ]\n  [\n    set-brush-icon-to-erase ]\nend\n\nto set-brush-draw-erase-icon-to-draw\n  ask brush-draw-erase-mode-icon [set shape \"brush-mode-icon-draw2\"]\nend\n\nto set-brush-draw-erase-icon-to-erase\n  ask brush-draw-erase-mode-icon [set shape \"brush-mode-icon-erase\"]\nend\n\n;to prompt-user-to-choose-background-image\n;  let user-background-image-file user-file\n;  if user-background-image-file != false [\n;    set local-background-image-file-path-chosen-by-user user-background-image-file\n;    carefully [\n;      set-background-image-to-file-chosen-by-user ]\n;    [\n;      user-message-file-not-valid-as-background-image\n;    ]\n;  ]\n;end\n\n;to user-message-file-not-valid-as-background-image\n;      user-message \"הקובץ שנבחר לא יכול לשמש כתמונת רקע\"\n;end\n\nto show-pheromones\n  set show-pheromone? true\n  recolor-all-patches\n;  ask patches [ask pheromone-gfx [show-turtle] ]\nend\n\nto hide-pheromones\n  set show-pheromone? false\n  recolor-all-patches\n;  ask patches [ask pheromone-gfx [hide-turtle] ]\nend\n\nto set-brush-shape [-brush-shape]\n  set brush-shape -brush-shape\nend\n\n;to update-food-information-gfx-overlay [-food-source-number]\n;  update-food-count-gfx-overlay-for-food-source -food-source-number\n;end\n\nto update-nest-information-gfx-overlay [-nest-source-number]\n  update-food-count-gfx-overlay-for-nest -nest-source-number\n  update-ant-count-gfx-overlay-for-nest -nest-source-number\nend\n\nto update-ant-count-gfx-overlay-for-nest [-nest-source-number]\n  ask get-nest-information-gfx-overlay -nest-source-number [\n    ;ask ant-count-gfx-overlay [set label word \"Ants: \" amount-of-ants-belonging-to-nest -nest-source-number]\n    ask ant-count-gfx-overlay [set label word \"נמלים: \" amount-of-ants-belonging-to-nest -nest-source-number]\n  ]\nend\n\nto create-circular-nest-with-ants-and-automatically-determine-nest-source [nest-center-xcor nest-center-ycor nest-radius number-of-ants-to-create]\n  create-nest-in-patches-and-automatically-determine-source-number ([patches in-radius nest-radius] of patch nest-center-xcor nest-center-ycor)\n  create-ants-at nest-center-xcor nest-center-ycor number-of-ants-to-create ([nest-source-number-at-patch] of patch nest-center-xcor nest-center-ycor)\nend\n\nto create-circular-nest-with-ants [nest-center-xcor nest-center-ycor nest-radius number-of-ants-to-create]\n  let designated-patches-to-create-new-curcilar-nest [patches in-radius nest-radius] of patch nest-center-xcor nest-center-ycor\n  let patches-without-existing-nest-in-designated-area designated-patches-to-create-new-curcilar-nest with [not patch-has-nest]\n  if any? patches-without-existing-nest-in-designated-area [\n    create-nest-in-patches-with-new-source-number patches-without-existing-nest-in-designated-area\n    let source-number-of-newly-created-nest [nest-source-number-at-patch] of one-of patches-without-existing-nest-in-designated-area\n    let nest-center-patch center-agent-world-wrap patches-without-existing-nest-in-designated-area\n    create-ants-at ([pxcor] of nest-center-patch) ([pycor] of nest-center-patch) number-of-ants-to-create source-number-of-newly-created-nest\n  ]\nend\n\nto create-ants-at [-xcor -ycor number-of-ants-to-create home-nest]\n  let ants-created []\n  create-ants number-of-ants-to-create\n  [\n    set home-nest-source-number home-nest\n    set size 2\n    ;set leader nobody\n    set pheromone-zero-clock random 10\n    set xcor -xcor\n    set ycor -ycor\n    set-shape-of-ant-not-carrying-food\n    set-color-of-ant-not-carrying-food\n    set ants-created lput self ants-created\n  ]\n  on-ants-created ants-created\nend\n\nto on-ants-created [ants-created]\n  let home-nest-source-number-of-ants-created [home-nest-source-number] of one-of ants-created\n  update-ant-count-gfx-overlay-for-nest home-nest-source-number-of-ants-created\nend\n\nto spawn-ants-at-nest [amount -nest-source-number]\n  let center-of-nest nest-center -nest-source-number\n  create-ants-at [xcor] of center-of-nest [ycor] of center-of-nest amount -nest-source-number\nend\n\nto switch-current-nest-displaying-pheromone\n  ifelse any-nest-exists? [\n    let existing-nests-with-source-number-higher-than-current-nest-displaying-pheromone\n      filter [-nest-source-number -> -nest-source-number > current-nest-displaying-pheromone] existing-nests-source-number\n    ifelse not empty? existing-nests-with-source-number-higher-than-current-nest-displaying-pheromone [\n      set current-nest-displaying-pheromone min existing-nests-with-source-number-higher-than-current-nest-displaying-pheromone ]\n    [\n      set current-nest-displaying-pheromone min existing-nests-source-number\n    ]\n  ]\n  [\n    set current-nest-displaying-pheromone (current-nest-displaying-pheromone + 1) mod (length nest-source-numbers-used-so-far)\n  ]\nend\n\nto display-pheromones-of-another-nest\n  switch-current-nest-displaying-pheromone\n  recolor-all-patches\nend\n\nto-report any-nest-exists?\n  report not empty? existing-nests-source-number\nend\n\nto-report existing-nests-source-number\n  report sort filter [-nest-source-number -> any? (nests with [source-number = -nest-source-number])] nest-source-numbers-used-so-far\nend\n\n;to create-food-in-radius-at [-xcor -ycor radius -amount-of-food]\n;  let -food-source-number new-food-source-number\n;  create-food -amount-of-food [setxy (-xcor + (((random-normal 0 0.5) / 3) * radius)) (-ycor + ( ((random-normal 0 0.5) / 3) * radius))\n;    set source-number -food-source-number set shape \"seed-outline\" set color food-source-number-color -food-source-number set size 2 ]\n;end\n\nto recolor-all-patches\n  ask patches [recolor-patch]\nend\n\nto remove-ants-in-patches [-patches]\n  ask -patches [remove-ants-in-patch]\nend\n\n; patch prodedure\nto remove-ants-in-patch\n  on-ants-about-to-be-removed ants-here\n  ask ants-here [die]\n  on-ants-removed\nend\n\nto on-ants-removed\n  foreach nest-source-numbers-used-so-far [-nest-source-number -> update-ant-count-gfx-overlay-for-nest -nest-source-number]\nend\n\nto on-ants-about-to-be-removed [ants-to-be-removed]\n  let nests-of-ants-that-are-about-to-be-removed remove-duplicates [home-nest-source-number] of ants-to-be-removed\nend\n\nto create-circular-mound-food-source [-xcor -ycor radius]\n  let center-patch-of-food patch -xcor -ycor\n  let -food-source-number new-food-source-number\n  let food-patches pacthes-in-radius -xcor -ycor radius\n  ;i experimented with some numbers ot make food mound look nice, but the mound calculation should be put in a procedure of its own\n  ask food-patches [create-food-in-patch int ((exponential-distribution 0.3 (distance center-patch-of-food)) * 20 + 1) * 2 -food-source-number]\nend\n\nto create-circular-food-source [-xcor -ycor radius]\n  let circular-food-source-patches pacthes-in-radius -xcor -ycor radius\n  create-food-in-patches-and-automatically-determine-food-source circular-food-source-patches\nend\n\nto create-circular-nest [-xcor -ycor radius]\n  create-nest-in-patches-and-automatically-determine-source-number pacthes-in-radius -xcor -ycor radius\nend\n\nto create-nest-in-patches [-patches -nest-source-number]\n  foreach [self] of -patches [-patch -> create-nest-in-patch -patch -nest-source-number]\nend\n\n; patch prodcedure\nto create-nest-in-patch [-patch -nest-source-number]\n  if [can-create-nest-in-patch] of -patch [\n    let nest-created nobody\n    ask -patch [sprout-nests 1 [\n      hide-turtle\n      set shape \"empty\"\n      ;set shape \"tile stones\"\n      set source-number -nest-source-number\n      set-nest-color-based-on-source-number\n      set nest-created self]]\n    register-use-of-nest-source-number -nest-source-number\n    on-nest-created nest-created\n  ]\nend\n\n; patch prodcedure\nto on-nest-created [nest-created]\n  update-center-of-nest [source-number] of nest-created\n  update-nest-information-gfx-overlay [source-number] of nest-created\nend\n\nto update-center-of-food-source [-food-source-number]\n  ifelse food-source-has-food -food-source-number [\n    ; done for efficiency purposes, look first at patch that is the average of coordinates of all patches with food source,\n    ; most of the time that patch will be occupied by the food source\n    let -patch-located-at-average-of-xy-coordinates-of-patches-occupied-by-food-source\n        patch-located-at-average-of-xy-coordinates-of-patches-occupied-by-food-source -food-source-number\n    ifelse [patch-has-food] of -patch-located-at-average-of-xy-coordinates-of-patches-occupied-by-food-source and\n           [food-source-number] of -patch-located-at-average-of-xy-coordinates-of-patches-occupied-by-food-source = -food-source-number [\n      set center-of-food-sources replace-item -food-source-number center-of-food-sources -patch-located-at-average-of-xy-coordinates-of-patches-occupied-by-food-source ]\n    [\n      set center-of-food-sources replace-item -food-source-number center-of-food-sources center-food-source-patch -food-source-number]\n    ]\n  [\n    set center-of-food-sources replace-item -food-source-number center-of-food-sources nobody\n  ]\nend\n\nto-report patch-located-at-average-of-xy-coordinates-of-patches-occupied-by-food-source [-food-source-number]\n  let -average-xy-coordinates-of-patches-occupied-by-food-source average-xy-coordinates-of-patches-occupied-by-food-source -food-source-number\n  let average-xcor (item 1 -average-xy-coordinates-of-patches-occupied-by-food-source) / (item 0 -average-xy-coordinates-of-patches-occupied-by-food-source)\n  let average-ycor (item 2 -average-xy-coordinates-of-patches-occupied-by-food-source) / (item 0 -average-xy-coordinates-of-patches-occupied-by-food-source)\n  report patch average-xcor average-ycor\nend\n\nto update-center-of-nest [-nest-source-number]\n  let -nest-agents nest-agents -nest-source-number\n  ifelse any? -nest-agents [\n    set center-of-nests replace-item -nest-source-number center-of-nests center-agent -nest-agents]\n  [\n    set center-of-nests replace-item -nest-source-number center-of-nests nobody\n  ]\n  on-center-of-nest-updated -nest-source-number\nend\n\nto on-center-of-nest-updated [-nest-source-number]\n  let -nest-center nest-center -nest-source-number\n  ifelse -nest-center != nobody [\n    update-position-of-nest-information -nest-source-number [xcor] of -nest-center [ycor] of -nest-center ]\n  [\n    hide-nest-information -nest-source-number\n  ]\nend\n\nto update-position-of-nest-information [-nest-source-number -xcor -ycor]\n  ask get-nest-information-gfx-overlay -nest-source-number [\n    carefully [\n      ask nest-source-number-gfx-overlay [show-turtle setxy (-xcor + 2) (-ycor + 1)]\n      ask food-count-gfx-overlay [show-turtle setxy (-xcor + 2) -ycor]\n      ask ant-count-gfx-overlay [show-turtle setxy (-xcor + 2) (-ycor - 1)] ]\n    []\n  ]\nend\n\nto hide-nest-information [-nest-source-number]\n  ask get-nest-information-gfx-overlay -nest-source-number [\n    ask nest-source-number-gfx-overlay [hide-turtle]\n    ask food-count-gfx-overlay [hide-turtle]\n    ask ant-count-gfx-overlay [hide-turtle]\n  ]\nend\n\nto-report nest-agents [-source-number]\n  report nests with [source-number = -source-number]\nend\n\n; turtle variable\nto set-nest-color-based-on-source-number\n  set color nest-source-number-color source-number\nend\n\n;food-source-number-color\nto-report nest-source-number-color [-source-number]\n  report item (-source-number mod (length nest-source-colors - 1) ) nest-source-colors\nend\n\n\nto register-use-of-nest-source-number [-source-number]\n  if not member? -source-number nest-source-numbers-used-so-far [\n    set nest-source-numbers-used-so-far lput -source-number nest-source-numbers-used-so-far\n    on-new-nest-source-number-used -source-number\n  ]\nend\n\nto on-new-nest-source-number-used [-source-number]\n  set amount-of-food-in-nests lput 0 amount-of-food-in-nests\n  set center-of-nests lput nobody center-of-nests\n  set nests-information-gfx-overlay lput (create-initialized-nest-information-gfx-overlay -source-number) nests-information-gfx-overlay\n  ask patches [\n    set food-pheromone-list lput 0 food-pheromone-list\n    set nest-pheromone-list lput 0 nest-pheromone-list\n  ]\n  plot-food-in-nest\nend\n\nto-report create-initialized-nest-information-gfx-overlay [-nest-source-number]\n  let new-nest-information-gfx-overlay nobody\n  let new-gfx-overlays n-values 3 [create-initialized-gfx-overlay]\n  create-nest-information-gfx-overlay 1 [\n    set new-nest-information-gfx-overlay self\n    hide-turtle\n    set shape \"empty\"\n    set nest-source-number-gfx-overlay item 0 new-gfx-overlays\n    ;ask nest-source-number-gfx-overlay [set label word \"Nest: \" -nest-source-number]\n    ;ask nest-source-number-gfx-overlay [set label word \"מספר קן: \" (-nest-source-number + 1)]\n    ask nest-source-number-gfx-overlay [set label word \"קן מס': \" (-nest-source-number + 1)]\n    ;ask nest-source-number-gfx-overlay [set label word \"קן: \" (-nest-source-number + 1)]\n    set food-count-gfx-overlay item 1 new-gfx-overlays\n    set ant-count-gfx-overlay item 2 new-gfx-overlays\n  ]\n  report new-nest-information-gfx-overlay\nend\n\nto-report create-initialized-gfx-overlay\n  let gfx-overlay-created nobody\n  create-gfx-overlay 1 [set gfx-overlay-created self hide-turtle set shape \"empty\"]\n  report gfx-overlay-created\nend\n\n; patch procedure\nto-report sprout-initialized-gfx-overlay\n  let gfx-overlay-created nobody\n  sprout-gfx-overlay 1 [set gfx-overlay-created self hide-turtle set shape \"empty\"]\n  report gfx-overlay-created\nend\n\nto on-add-nest-brush-activated\n  create-nest-in-patches-and-automatically-determine-source-number newly-drawn-on-patches-brush-is-drawing-on\nend\n\n; patch procedure\nto-report can-create-nest-in-patch\n  report not (patch-has-nest or patch-has-barrier)\nend\n\nto-report exponential-distribution [lambda x]\n  report lambda * e ^ (-1 * lambda * x)\nend\n\nto-report amount-of-ants-belonging-to-nest [-nest-source-number]\n  report count ants with [home-nest-source-number = -nest-source-number]\nend\n\nto-report pacthes-in-radius [center-xcor center-ycor radius]\n  report [patches in-radius radius] of patch center-xcor center-ycor\nend\n\n;turtle procedure\nto-report is-carrying-food\n  report amount-of-food-carried > 0\nend\n\nto remove-nest-from-patches [-patches]\n   ask -patches [remove-nest-from-patch]\nend\n\n; patch procedure\nto remove-nest-from-patch\n  if any? nests-here [\n    let source-number-of-nest-removed [source-number] of one-of nests-here\n    ask nests-here [die]\n    on-nest-removed-from-patch source-number-of-nest-removed ]\nend\n\n; patch procedure\nto on-nest-removed-from-patch [source-number-of-nest-removed]\n  update-center-of-nest source-number-of-nest-removed\nend\n\nto-report is-brush-in-draw-mode\n  report (brush-in-draw-mode = true)\nend\n\nto-report is-brush-in-erase-mode\n  report not is-brush-in-draw-mode\nend\n\nto on-add-food-brush-activated\n  create-food-in-patches-and-automatically-determine-food-source newly-drawn-on-patches-brush-is-drawing-on\nend\n\nto remove-food-from-patches [-patches]\n  ask -patches [remove-food-from-patch]\nend\n\n;patch-procedure\nto remove-food-from-patch\n  reduce-food-in-patch amount-of-food\n  ;ask food-here [die]\nend\n\nto-report one-of-patches-is-neighbor-of-existing-nest [-patches]\n  report any? -patches with [patch-is-neighbor-of-existing-nest]\nend\n\n; patch procedure\nto-report patch-is-neighbor-of-existing-nest\n  report any? neighbor-patches-with-nests\nend\n\n; patch procedure\nto-report neighbor-patches-with-nests\n  report neighbors with [patch-has-nest]\nend\n\nto create-nest-with-same-source-number-as-one-of-neighbors [-patches]\n  let -source-number source-number-of-one-of-nest-neighbors-of-patches -patches\n  create-nest-in-patches -patches -source-number\nend\n\nto-report source-number-of-one-of-nest-neighbors-of-patches [-patches]\n  report [source-number-of-one-of-nest-neighbors] of one-of -patches with [patch-is-neighbor-of-existing-nest]\nend\n\n; patch procedure\nto-report source-number-of-one-of-nest-neighbors\n  report [source-number] of one-of (turtle-set [nests-here] of neighbors)\nend\n\nto create-nest-in-patches-and-automatically-determine-source-number [-patches]\n  ifelse one-of-patches-is-neighbor-of-existing-nest -patches [\n    create-nest-with-same-source-number-as-one-of-neighbors -patches ]\n  [ create-nest-in-patches-with-new-source-number -patches]\nend\n\nto create-nest-in-patches-with-new-source-number [-patches]\n  let -source-number new-nest-source-number\n  create-nest-in-patches -patches -source-number\nend\n\nto-report new-nest-source-number\n  ifelse empty? nest-source-numbers-used-so-far [\n    report 0 ]\n  [ report max nest-source-numbers-used-so-far + 1]\nend\n\nto create-food-in-patches-and-automatically-determine-food-source [-patches]\n  ifelse one-of-patches-is-neighbor-of-existing-food-source -patches [\n    create-food-with-same-food-source-as-one-of-neighbors -patches ]\n  [ create-food-in-patches-as-new-food-source -patches]\nend\n\nto create-food-with-same-food-source-as-one-of-neighbors [-patches]\n  let -food-source-number food-source-of-one-of-neighbors -patches\n  ask -patches [create-food-in-patch how-much-food-to-add-in-patch -food-source-number]\nend\n\nto-report food-source-of-one-of-neighbors [-patches]\n  report [food-source-number-of-any-neighbor] of one-of -patches with [patch-is-neighbor-of-existing-food-source]\nend\n\n\nto create-food-in-patches-as-new-food-source [-patches]\n  let -food-source-number new-food-source-number\n  ask -patches [create-food-in-patch how-much-food-to-add-in-patch -food-source-number]\nend\n\nto-report one-of-patches-is-neighbor-of-existing-food-source [-patches]\n  report any? -patches with [patch-is-neighbor-of-existing-food-source]\nend\n\n;patch procedure\nto-report amount-of-food-on-patch\n  report amount-of-food\n  ;report count food-here\nend\n\nto-report food-source-number-color [-food-source-number]\n  report item (-food-source-number mod (length food-source-colors - 1) ) food-source-colors\nend\n\nto-report how-much-food-to-add-in-patch\n  report random 3 + 1\nend\n\nto-report new-food-source-number\n  ifelse empty? food-source-numbers-used-so-far [\n    report 0 ]\n  [ report max food-source-numbers-used-so-far + 1]\nend\n\n; patch procedure\nto create-food-in-patch [-amount-of-food -food-source-number]\n  if can-add-food-in-patch [\n    if not patch-has-food [\n      set food-source-number -food-source-number ]\n    set amount-of-food amount-of-food + -amount-of-food\n    ;sprout-food -amount-of-food [set shape \"seed-outline\" set source-number -food-source-number set size 1.5\n    ;  setxy (pxcor + (random-float 1) - 0.5) (pycor + (random-float 1) - 0.5) set color food-source-number-color -food-source-number]\n    register-use-of-food-source-number -food-source-number\n    on-food-created -amount-of-food food-source-number\n  ]\nend\n\n; patch procedure\nto on-food-created [-amount-of-food -food-source-number]\n  let updated-food-count-of-food-source item -food-source-number food-count-in-each-food-source + -amount-of-food\n  set food-count-in-each-food-source replace-item -food-source-number food-count-in-each-food-source updated-food-count-of-food-source\n  let patch-had-no-food-before-this-food-was-added ifelse-value amount-of-food = -amount-of-food [true] [false]\n  if patch-had-no-food-before-this-food-was-added [\n    add-patch-to-patch-set-occupying-food-source\n    add-patch-to-average-xy-coordinates-of-patches-occupied-by-food-source\n    update-center-of-food-source -food-source-number\n    update-position-of-food-information -food-source-number\n  ]\n  update-food-count-gfx-overlay-for-food-source -food-source-number\nend\n\n; patch procedure\nto on-food-reduced-from-patch [amount-reduced -food-source-number]\n  let updated-food-count-of-food-source (food-count-in-food-source -food-source-number) - amount-reduced\n  set food-count-in-each-food-source replace-item -food-source-number food-count-in-each-food-source updated-food-count-of-food-source\n  if amount-of-food = 0 [\n    remove-patch-from-patch-set-occupying-food-source\n    remove-patch-from-average-xy-coordinates-of-patches-occupied-by-food-source\n    update-center-of-food-source -food-source-number\n    update-position-of-food-information -food-source-number\n  ]\n  update-food-count-gfx-overlay-for-food-source -food-source-number\nend\n\n; patch procedure\nto add-patch-to-patch-set-occupying-food-source\n  set patches-occupied-by-food-sources replace-item food-source-number patches-occupied-by-food-sources (patch-set item food-source-number patches-occupied-by-food-sources self)\nend\n\n; patch procedure\nto remove-patch-from-patch-set-occupying-food-source\n  set patches-occupied-by-food-sources replace-item food-source-number patches-occupied-by-food-sources other item food-source-number patches-occupied-by-food-sources\nend\n\nto update-position-of-food-information [-food-source-number]\n  ifelse food-source-has-food -food-source-number [\n    ask get-food-source-information-gfx-overlay -food-source-number [\n      let -center-food-source-patch item -food-source-number center-of-food-sources\n      carefully [\n        ask food-source-number-gfx-overlay [show-turtle setxy ([pxcor] of -center-food-source-patch + 2) [pycor] of -center-food-source-patch]\n        ask food-count-gfx-overlay [show-turtle setxy ([pxcor] of -center-food-source-patch + 2) ([pycor] of -center-food-source-patch - 1)]\n      ] []\n    ]\n  ]\n  [\n    hide-food-source-information -food-source-number\n  ]\nend\n\nto hide-food-source-information [-food-source-number]\n  ask get-food-source-information-gfx-overlay -food-source-number [\n    ask food-source-number-gfx-overlay [hide-turtle]\n    ask food-count-gfx-overlay [hide-turtle]\n  ]\nend\n\nto-report food-source-has-food [-food-source-number]\n  report item -food-source-number food-count-in-each-food-source > 0\nend\n\nto on-center-of-nest-updated1 [-nest-source-number]\n  let -nest-center nest-center -nest-source-number\n  ifelse -nest-center != nobody [\n    update-position-of-nest-information -nest-source-number [xcor] of -nest-center [ycor] of -nest-center ]\n  [\n    hide-nest-information -nest-source-number\n  ]\nend\n\nto update-position-of-nest-information1 [-nest-source-number -xcor -ycor]\n  ask get-nest-information-gfx-overlay -nest-source-number [\n    carefully [\n      ask nest-source-number-gfx-overlay [show-turtle setxy (-xcor + 2) (-ycor + 1)]\n      ask food-count-gfx-overlay [show-turtle setxy (-xcor + 2) -ycor]\n      ask ant-count-gfx-overlay [show-turtle setxy (-xcor + 2) (-ycor - 1)] ]\n    []\n  ]\nend\n\n; patch procedure\nto add-patch-to-average-xy-coordinates-of-patches-occupied-by-food-source\n  let -average-xy-coordinates-of-patches-occupied-by-food-source average-xy-coordinates-of-patches-occupied-by-food-source food-source-number\n  let amount-of-patches-with-food-source item 0 -average-xy-coordinates-of-patches-occupied-by-food-source + 1\n  let average-xcor-of-patches-occupied-by-food-source item 1 -average-xy-coordinates-of-patches-occupied-by-food-source + pxcor\n  let average-ycor-of-patches-occupied-by-food-source item 2 -average-xy-coordinates-of-patches-occupied-by-food-source + pycor\n  set average-xy-coordinates-of-patches-occupied-by-food-sources replace-item food-source-number average-xy-coordinates-of-patches-occupied-by-food-sources\n        (list amount-of-patches-with-food-source average-xcor-of-patches-occupied-by-food-source average-ycor-of-patches-occupied-by-food-source)\nend\n\n; patch procedure\nto remove-patch-from-average-xy-coordinates-of-patches-occupied-by-food-source\n  let -average-xy-coordinates-of-patches-occupied-by-food-source average-xy-coordinates-of-patches-occupied-by-food-source food-source-number\n  let amount-of-patches-with-food-source item 0 -average-xy-coordinates-of-patches-occupied-by-food-source - 1\n  let average-xcor-of-patches-occupied-by-food-source item 1 -average-xy-coordinates-of-patches-occupied-by-food-source - pxcor\n  let average-ycor-of-patches-occupied-by-food-source item 2 -average-xy-coordinates-of-patches-occupied-by-food-source - pycor\n  set average-xy-coordinates-of-patches-occupied-by-food-sources replace-item food-source-number average-xy-coordinates-of-patches-occupied-by-food-sources\n        (list amount-of-patches-with-food-source average-xcor-of-patches-occupied-by-food-source average-ycor-of-patches-occupied-by-food-source)\nend\n\nto-report average-xy-coordinates-of-patches-occupied-by-food-source [-food-source-number]\n  report item -food-source-number average-xy-coordinates-of-patches-occupied-by-food-sources\nend\n\nto create-food-in-patches [-patches -food-source-number]\n  ask -patches [create-food-in-patch how-much-food-to-add-in-patch -food-source-number]\nend\n\nto register-use-of-food-source-number [-food-source-number]\n  if not member? -food-source-number food-source-numbers-used-so-far [\n    set food-source-numbers-used-so-far lput -food-source-number food-source-numbers-used-so-far\n    on-food-source-created -food-source-number\n  ]\nend\n\nto on-food-source-created [-food-source-number]\n  set food-count-in-each-food-source lput 0 food-count-in-each-food-source\n  set patches-occupied-by-food-sources lput no-patches patches-occupied-by-food-sources\n  set center-of-food-sources lput nobody center-of-food-sources\n  set average-xy-coordinates-of-patches-occupied-by-food-sources lput [0 0 0] average-xy-coordinates-of-patches-occupied-by-food-sources\n  set food-sources-information-gfx-overlay lput (create-initialized-food-information-gfx-overlay -food-source-number) food-sources-information-gfx-overlay\n  plot-food-sources\nend\n\nto-report create-initialized-food-information-gfx-overlay [-food-source-number]\n  let new-food-information-gfx-overlay nobody\n  let new-gfx-overlays n-values 3 [sprout-initialized-gfx-overlay]\n  sprout-food-information-gfx-overlay 1 [\n    set new-food-information-gfx-overlay self\n    hide-turtle\n    set shape \"empty\"\n    set food-source-number-gfx-overlay item 0 new-gfx-overlays\n    ask food-source-number-gfx-overlay [set label word \"מאגר: \" (-food-source-number + 1)]\n    set food-count-gfx-overlay item 1 new-gfx-overlays\n    ;ask food-count-gfx-overlay [if shade-of? food-source-number-color -food-source-number yellow [set label-color 64]]\n    ;ask food-count-gfx-overlay [set shape \"square\" set color add-transparency black 0.5 set size 3]\n  ]\n  report new-food-information-gfx-overlay\nend\n\n; patch procedure\nto-report food-source-number-of-any-neighbor\n  report [food-source-number] of one-of (neighbors with [patch-has-food])\n  ;report [source-number] of one-of (turtle-set [food-here] of neighbors)\nend\n\n; patch procedure\nto-report neighbor-patches-with-food\n  report neighbors with [patch-has-food]\nend\n\n; patch prodecure\nto-report patch-is-neighbor-of-existing-food-source\n  report any? neighbor-patches-with-food\nend\n\n; patch procedure\nto-report can-add-food-in-patch\n  report not (patch-has-barrier)\nend\n\nto-report patches-affected-by-a-square-shaped-brush-at-patch [-patch]\n  report (patch-set n-values (brush-size ^ 2) [i -> patch (([pxcor] of -patch - (brush-size / 2) + 0.5) + i mod brush-size) (([pycor] of -patch - (brush-size / 2) + 0.5) + int(i / brush-size))])\nend\n\nto-report patches-affected-by-a-circle-shaped-brush-at-patch [-patch]\n  report [patches in-radius (brush-size / 2)] of -patch\nend\n\nto-report patches-affected-by-brush-shape-used-at-patch [-patch]\n  ifelse brush-shape = \"circle\" [\n    report patches-affected-by-a-circle-shaped-brush-at-patch -patch]\n  [ if brush-shape = \"square\"\n    [report patches-affected-by-a-square-shaped-brush-at-patch -patch ]\n  ]\nend\n\nto-report ants-under-brush\n  ifelse brush-shape = \"circle\" [\n    report [ants in-radius brush-size] of patch-under-brush]\n  [ if brush-shape = \"square\" [\n    report turtle-set [ants-here] of patches-under-brush ]\n  ]\nend\n\nto-report patches-under-brush\n  report patches-affected-by-brush-shape-used-at-patch patch-under-brush\nend\n\nto-report patches-brush-is-drawing-on\n    report patch-set [patches-affected-by-brush-shape-used-at-patch self] of patches-brush-moved-over-while-being-held-down\nend\n\nto-report patches-brush-moved-over-while-being-held-down\n    report patches-line-intersects coordinates-of-brush-when-last-held-down mouse-coordinates\nend\n\nto-report coordinates-of-brush-when-last-held-down\n  report mousexy-when-brush-was-last-activated\n  ;ifelse mouse-down?-when-brush-was-last-activated [report mousexy-when-brush-was-last-activated] [report mouse-coordinates]\nend\n\nto-report newly-drawn-on-patches-brush-is-drawing-on\n  report patch-set patches-brush-is-drawing-on with [not member? self get-patches-drawn-on-since-brush-was-held-down]\nend\n\nto-report patch-under-brush\n  report patch-at-point mouse-coordinates\nend\n\nto-report mouse-coordinates\n  report current-mousexy\nend\n\nto set-brush-type [-brush-type]\n  set brush-type -brush-type\n  on-brush-type-set\nend\n\nto on-brush-type-set\n  update-brush-type-icon\nend\n\nto-report brush-type-already-chosen [-brush-type]\n  report brush-type = -brush-type\nend\n\nto toggle-add-erase\n  set brush-in-draw-mode ifelse-value brush-in-draw-mode = true [false] [true]\nend\n\nto display-brush-border-outline\n  ifelse current-mouse-inside? [\n    show-brush-border-outline\n    set-brush-border-outline-coordinates\n    set-brush-border-outline-shape\n    set-brush-border-outline-color\n    set-brush-border-outline-size\n    set-brush-border-outline-label ]\n  [\n    hide-brush-border-outline ]\nend\n\nto display-brush-cursor\n  ifelse current-mouse-inside? [\n    show-brush-cursor\n    set-brush-cursor-coordinates ]\n  [\n    hide-brush-cursor ]\nend\n\nto hide-brush-cursor\n  ask -brush-cursor [hide-turtle]\nend\n\nto show-brush-cursor\n  ask -brush-cursor [show-turtle]\nend\n\nto set-brush-cursor-coordinates\n  carefully [ ask -brush-cursor [set xcor (item 0 current-mousexy + 1.5)] ] []\n  carefully [ ask -brush-cursor [set ycor (item 1 current-mousexy + 1.5)] ] []\n  ;carefully [ ask -brush-cursor [set xcor ([pxcor] of patch-under-brush + 1.5)] ] []\n  ;carefully [ ask -brush-cursor [set ycor ([pycor] of patch-under-brush + 1.5)] ] []\nend\n\nto display-brush-gfx\n  display-brush-border-outline\n  display-brush-cursor\n  diplay-brush-xy-as-label-on-brush-mode-icon\n  make-sure-brush-gets-updated-in-display-atleast-every 0.04\nend\n\nto diplay-brush-xy-as-label-on-brush-mode-icon\n  ifelse current-mouse-inside? [\n    ask brush-draw-erase-mode-icon [set label (word int item 0 current-mousexy \", \" int item 1 current-mousexy) ] ]\n  [\n    ask brush-draw-erase-mode-icon [set label \"\"]\n  ]\nend\n\nto set-brush-border-outline-label\n  ;ask patch 0 min-pycor [set plabel brush-type]\nend\n\nto set-brush-border-outline-coordinates\n  let -patch-under-brush patch-under-brush\n  ifelse brush-shape = \"square\" [ ;offset brush for even sizes since patch under brush can not be center\n    carefully [\n      ask -brush-border-outline [setxy ([pxcor] of -patch-under-brush + 0.5 * ((brush-size + 1) mod 2)) ([pycor] of -patch-under-brush + 0.5 * ((brush-size + 1) mod 2))]\n    ] []\n  ]\n  [\n    ask -brush-border-outline [setxy [pxcor] of -patch-under-brush [pycor] of -patch-under-brush]\n  ]\nend\n\nto hide-brush-border-outline\n  ask -brush-border-outline [hide-turtle]\nend\n\nto show-brush-border-outline\n  ask -brush-border-outline [show-turtle]\nend\n\nto set-brush-border-outline-shape\n  ifelse brush-shape = \"square\" [\n    ask -brush-border-outline [set shape \"square outline thick\"] ]\n  [\n    ifelse  brush-shape = \"circle\" [\n      ask -brush-border-outline [set shape \"circle outline\"] ]\n    [] ]\nend\n\nto set-brush-border-outline-color\n  ifelse is-brush-in-draw-mode [\n    ask -brush-border-outline [set color cyan] ]\n  [\n    ask -brush-border-outline [set color red] ]\nend\n\nto set-brush-border-outline-size\n  ask -brush-border-outline [set size brush-size]\nend\n\nto activate-brush\n  set-brush-state\n  display-brush-gfx\n  draw-with-brush\n  keep-track-of-current-brush-state\nend\n\nto set-brush-state\n  set current-mousexy (list mouse-xcor mouse-ycor)\n  set current-mouse-down? mouse-down?\n  set current-mouse-inside? mouse-inside?\nend\n\nto keep-track-of-current-brush-state\n  update-which-patches-have-been-affected-by-brush-since-it-was-held-down\n  set mouse-down?-when-brush-was-last-activated current-mouse-down?\n  set mousexy-when-brush-was-last-activated current-mousexy\nend\n\nto-report brush-is-held-down\n  report current-mouse-down?\nend\n\nto update-which-patches-have-been-affected-by-brush-since-it-was-held-down\n  ifelse brush-is-held-down [\n    set patches-drawn-on-since-brush-was-held-down (patch-set patches-drawn-on-since-brush-was-held-down\n      patches-brush-is-drawing-on) ]\n  [\n    set patches-drawn-on-since-brush-was-held-down no-patches ]\nend\n\nto draw-with-brush\n  ifelse brush-is-held-down [\n    on-brush-is-held-down\n    if is-brush-drawing-on-patches-not-drawn-on-since-brush-was-held-down [\n      on-brush-drawing-only-once-per-patch]]\n  [\n    if brush-has-been-clicked [\n      on-brush-has-been-clicked]\n  ]\nend\n\nto on-brush-is-held-down\n  ifelse brush-type =  \"ant\" [\n    on-brush-used-with-ant ]\n  [\n    ifelse brush-type = \"mark\" [\n      on-brush-used-with-mark ]\n    [\n      ifelse brush-type = \"food-pheromone\" [\n        on-brush-held-down-with-food-pheromone ]\n      [\n        if brush-type = \"nest-pheromone\" [\n          on-brush-held-down-with-nest-pheromone ]\n      ]\n    ]\n  ]\nend\n\nto on-brush-drawing-only-once-per-patch\n  ifelse brush-type =  \"nest\" [\n    use-brush-with-nest ]\n  [\n    ifelse brush-type =  \"food\" [\n          use-brush-with-food ]\n    [\n      ifelse brush-type =  \"barrier\" [\n            use-brush-with-barrier ]\n      [\n        ifelse brush-type = \"trail\" [\n          use-brush-with-trail ]\n        [\n        ;  ifelse brush-type = \"food-pheromone\" [\n        ;    use-brush-with-food-pheromone ]\n        ;  ]\n        ;  [\n        ;    if brush-type = \"nest-pheromone\" [\n        ;      use-brush-with-nest-pheromone ]\n        ;    ]\n        ;  ]\n        ]\n      ]\n    ]\n  ]\nend\n\nto on-brush-has-been-clicked\n  if (brush-type =  \"ant\") [\n    use-brush-click-with-ant ]\nend\n\nto-report is-brush-drawing-on-patches-not-drawn-on-since-brush-was-held-down\n  report any? newly-drawn-on-patches-brush-is-drawing-on\nend\n\nto-report get-patches-drawn-on-since-brush-was-held-down\n  report patches-drawn-on-since-brush-was-held-down\nend\n\nto on-brush-held-down-with-nest-pheromone\n  ifelse is-brush-in-draw-mode [on-nest-pheromone-draw-brush-activated ] [on-nest-pheromone-erase-brush-activated ]\n  recolor-patches patches-brush-is-drawing-on\nend\n\nto on-brush-held-down-with-food-pheromone\n  ifelse is-brush-in-draw-mode [on-food-pheromone-draw-brush-activated ] [on-food-pheromone-erase-brush-activated ]\n  recolor-patches patches-brush-is-drawing-on\nend\n\n;to use-brush-with-nest-pheromone\n;  if is-brush-in-draw-mode [\n;    on-nest-pheromone-draw-brush-activated ]\n; recolor-patches patches-brush-is-drawing-on\n;end\n\n;to use-brush-with-food-pheromone\n;  if is-brush-in-draw-mode [\n;    on-food-pheromone-draw-brush-activated ]\n;  recolor-patches patches-brush-is-drawing-on\n;end\n\nto use-brush-with-trail\n  ifelse is-brush-in-draw-mode [on-pen-down-brush-activated] [on-pen-erase-brush-activated]\nend\n\nto on-pen-down-brush-activated\n  ask ants-under-brush [pen-down]\nend\n\nto on-pen-erase-brush-activated\n  ask ants-under-brush [pen-up]\nend\n\nto-report ant-is-marked [-ant]\n  report any? ant-markers with [ant-being-marked = -ant]\nend\n\n; turtle procedure\nto mark-ant [-ant]\n  if not ant-is-marked -ant [\n    create-ant-markers 1 [set ant-being-marked -ant setxy [xcor] of -ant [ycor] of -ant set shape \"circle outline\" set color yellow set size 2] ]\nend\n\nto on-nest-pheromone-draw-brush-activated\n  let increased-pheromone-value-depending-on-how-long-brush-pressed-down ((count patches-drawn-on-since-brush-was-held-down) / (world-width * world-height))\n  ask patches-brush-is-drawing-on [\n    let new-nest-pheromone-value max-pheromone + increased-pheromone-value-depending-on-how-long-brush-pressed-down +\n      (((distancexy item 0 mousexy-when-brush-was-last-activated item 1 mousexy-when-brush-was-last-activated) / (world-width + world-height)) / ((world-width * world-height) ^ 2))\n    set nest-pheromone-list n-values (length nest-pheromone-list) [new-nest-pheromone-value]\n  ]\nend\n\nto on-nest-pheromone-erase-brush-activated\n  ask patches-brush-is-drawing-on [remove-nest-pheromone-from-patch]\nend\n\nto on-food-pheromone-draw-brush-activated\n  ;ask newly-drawn-on-patches-brush-is-drawing-on [\n  let increased-pheromone-value-depending-on-how-long-brush-pressed-down ((count patches-drawn-on-since-brush-was-held-down) / (world-width * world-height))\n  ask patches-brush-is-drawing-on [\n    let new-food-pheromone-value max-pheromone + increased-pheromone-value-depending-on-how-long-brush-pressed-down +\n      (((distancexy item 0 mousexy-when-brush-was-last-activated item 1 mousexy-when-brush-was-last-activated) / (world-width + world-height)) / ((world-width * world-height) ^ 2))\n    set food-pheromone-list n-values (length food-pheromone-list) [new-food-pheromone-value]\n  ]\nend\n\nto on-food-pheromone-erase-brush-activated\n  ask patches-brush-is-drawing-on [remove-food-pheromone-from-patch]\nend\n\nto on-add-mark-brush-activated\n  foreach [self] of ants-under-brush [-ant -> mark-ant -ant]\nend\n\nto on-erase-mark-brush-activated\n  ask turtle-set [ant-markers-here] of patches-brush-is-drawing-on [die]\nend\n\nto use-brush-click-with-ant\n if is-brush-in-draw-mode [on-add-ant-brush-activated]\nend\n\nto on-brush-used-with-mark\n  ifelse is-brush-in-draw-mode [on-add-mark-brush-activated] [on-erase-mark-brush-activated]\nend\n\nto on-brush-used-with-ant\n  if is-brush-in-erase-mode [on-erase-ant-brush-activated]\nend\n\nto use-brush-with-barrier\n  ifelse is-brush-in-draw-mode [on-add-barrier-brush-activated] [on-erase-barrier-brush-activated]\n  recolor-patches newly-drawn-on-patches-brush-is-drawing-on\nend\n\nto use-brush-with-food\n  ifelse is-brush-in-draw-mode [on-add-food-brush-activated] [on-erase-food-brush-activated]\n  recolor-patches newly-drawn-on-patches-brush-is-drawing-on\n  plot-food-sources\nend\n\nto use-brush-with-nest\n  ifelse is-brush-in-draw-mode [on-add-nest-brush-activated] [on-erase-nest-brush-activated]\n  recolor-patches newly-drawn-on-patches-brush-is-drawing-on\nend\n\nto-report brush-has-been-clicked\n  report (not brush-is-held-down) and (brush-was-held-down-last-time-brush-was-activated)\nend\n\nto-report brush-was-held-down-last-time-brush-was-activated\n  report mouse-down?-when-brush-was-last-activated\nend\n\nto make-sure-brush-gets-updated-in-display-atleast-every [seconds]\n  update-display-every-given-time-interval-if-ticks-have-not-advanced-since-brush-was-last-activated seconds\n  set tick-count-when-brush-was-last-activated ticks\nend\n\nto update-display-every-given-time-interval-if-ticks-have-not-advanced-since-brush-was-last-activated [seconds]\n  every seconds [\n    update-display-if-ticks-have-not-advanced-since-brush-was-last-activated\n  ]\nend\n\nto update-display-if-ticks-have-not-advanced-since-brush-was-last-activated\n  if not ticks-have-advanced-since-last-time-brush-was-activated [\n    display ]\nend\n\nto-report ticks-have-advanced-since-last-time-brush-was-activated\n  let amount-of-ticks-advanced-since-last-time-brush-was-activated ticks - tick-count-when-brush-was-last-activated\n  report amount-of-ticks-advanced-since-last-time-brush-was-activated > 0\nend\n\nto create-barrier-in-patches [-patches]\n  create-barriers-in-patches-in-order-starting-from-center-outwards -patches\nend\n\nto create-barriers-in-patches-in-order-starting-from-center-outwards [-patches]\n  foreach sort-patches-by-proximity-to-their-most-center-patch -patches [-patch -> ask -patch [create-barrier-in-patch]]\nend\n\nto-report sort-patches-by-proximity-to-their-most-center-patch [-patches]\n  let -center-patch center-agent-world-wrap -patches\n  report sort-by [ [patch1 patch2] -> (distance-between-patches patch1 -center-patch) < (distance-between-patches patch2 -center-patch)] -patches\nend\n\nto-report distance-between-patches [patch1 patch2]\n  report [distance patch2] of patch1\nend\n\nto-report center-agent-world-wrap [-patches]\n  report min-one-of -patches [sum-distances-to-patches -patches]\nend\n\nto-report center-agent [-patches]\n  let mean-xcor mean [xcor] of -patches\n  let mean-ycor mean [ycor] of -patches\n  report min-one-of -patches [distancexy mean-xcor mean-ycor]\nend\n\nto-report center-food-source-patch [-food-source-number]\n  let -average-xy-coordinates-of-patches-occupied-by-food-source average-xy-coordinates-of-patches-occupied-by-food-source -food-source-number\n  let average-xcor (item 1 -average-xy-coordinates-of-patches-occupied-by-food-source) / (item 0 -average-xy-coordinates-of-patches-occupied-by-food-source)\n  let average-ycor (item 2 -average-xy-coordinates-of-patches-occupied-by-food-source) / (item 0 -average-xy-coordinates-of-patches-occupied-by-food-source)\n  report min-one-of (item -food-source-number patches-occupied-by-food-sources) [distancexy average-xcor average-ycor]\nend\n\n;patch-procedure\nto-report sum-distances-to-patches [-patches]\n  let patch-to-calculate-distance-from self\n  report sum [distance-between-patches patch-to-calculate-distance-from self] of -patches\nend\n\n; patch procedure\nto create-barrier-in-patch\n  if can-attempt-to-create-barrier-in-patch [\n    try-to-push-aside-ants-from-patch\n    if can-create-barrier-in-patch [\n      set is-barrier true ]\n      ;sprout-barriers 1 [set shape \"tile brick 3\" set color barrier-color] ]\n  ]\n  on-barrier-created-in-patch\nend\n\n; patch procedure\nto on-barrier-created-in-patch\n  set -patches-with-barriers (patch-set -patches-with-barriers self)\nend\n\n; patch procedure\nto-report can-attempt-to-create-barrier-in-patch\n  report not (\n    patch-has-food or\n    patch-has-nest or\n    patch-has-barrier)\nend\n\n; patch procedure\nto try-to-push-aside-ants-from-patch\n  ask ants-here [try-to-move-to-closest-unblocked-neighbors4-patch]\nend\n\n;turtle procedure\nto try-to-move-to-closest-unblocked-neighbors4-patch\n  let closest-unblocked-neighbor-patch closest-unblocked-neighbors4-patch self\n  let unblocked-neighbor-exists closest-unblocked-neighbor-patch != nobody\n  if unblocked-neighbor-exists [\n    move-to closest-unblocked-neighbor-patch ]\nend\n\nto-report closest-unblocked-neighbors4-patch [-ant]\n  let patch-ant-is-on [patch-here] of -ant\n  report min-one-of unblocked-neighbor4-patches patch-ant-is-on [distance patch-ant-is-on]\nend\n\nto-report unblocked-neighbor4-patches [-patch]\n  report ([neighbors4] of -patch) with [not patch-has-barrier]\nend\n\nto-report can-create-barrier-in-patch\n  report not (\n    patch-has-food or\n    patch-has-nest or\n    patch-has-barrier or\n    patch-has-ants )\nend\n\nto recolor-patches [-patches]\n  ask -patches [recolor-patch]\nend\n\nto on-add-barrier-brush-activated\n  create-barrier-in-patches patches-brush-is-drawing-on\n  recolor-patches patches-brush-is-drawing-on\nend\n\nto on-add-ant-brush-activated\n  create-ants-on-patch-under-brush\nend\n\nto create-ants-on-patch-under-brush\n  let amount-of-ants-to-create brush-size\n  let patch-to-create-ants-at patch-under-brush\n  let -xcor [pxcor] of patch-to-create-ants-at\n  let -ycor [pycor] of patch-to-create-ants-at\n  let home-nest-of-ants ifelse-value [patch-has-nest] of patch-under-brush [[nest-source-number-at-patch] of patch-under-brush] [0]\n  create-ants-at -xcor -ycor amount-of-ants-to-create home-nest-of-ants\nend\n\n; patch procedure\nto-report nest-source-number-at-patch\n  report [source-number] of one-of nests-here\nend\n\n; patch procedure\nto remove-barrier-from-patch\n  set is-barrier false\n  ;ask barriers-here [die]\n  on-barrier-removed-from-patch\nend\n\n; patch procedure\nto on-barrier-removed-from-patch\n  set -patches-with-barriers other -patches-with-barriers\nend\n\nto remove-barrier-from-patches [-patches]\n  ask -patches [remove-barrier-from-patch]\nend\n\nto on-erase-nest-brush-activated\n  remove-nest-from-patches patches-brush-is-drawing-on\nend\n\nto on-erase-food-brush-activated\n  remove-food-from-patches patches-brush-is-drawing-on\nend\n\nto on-erase-barrier-brush-activated\n  remove-barrier-from-patches patches-brush-is-drawing-on\nend\n\nto on-erase-ant-brush-activated\n  remove-ants-in-patches patches-brush-is-drawing-on\nend\n\n; patch procedure\nto recolor-patch\n  ifelse patch-has-barrier [\n    set pcolor barrier-color ]\n  [\n    ifelse patch-has-food [\n      color-food-patch ]\n    [\n      ifelse patch-has-nest [\n        color-nest-in-patch ]\n      [\n        color-pheromone-in-patch ]\n    ]\n  ]\nend\n\n; patch procedure\nto color-nest-in-patch\n  set pcolor nest-color-in-patch - 1\nend\n\n; patch procedure\nto-report nest-color-in-patch\n  report [color] of one-of nests-here\n  ;report nest-source-number-color nest-source-number\nend\n\n; patch procedure\nto color-food-patch\n  ;set pcolor red\n  set pcolor food-color-in-patch\nend\n\n;patch-procedure\nto-report food-color-in-patch\n  report scale-color (food-source-number-color food-source-number) ifelse-value amount-of-food-on-patch > 10 [10] [amount-of-food-on-patch] -2 17\n  ;report scale-color (food-source-number-color food-source-number) amount-of-food-on-patch 0 10\nend\n\n;patch procedure\nto color-pheromone-in-patch\n  ifelse show-pheromone? [\n    ifelse display-pheromone-type = \"food\"  [\n      ifelse food-pheromone-of-nest current-nest-displaying-pheromone > 3 [\n        set pcolor scale-color food-pheromone-color ((food-pheromone-of-nest current-nest-displaying-pheromone) * (pheromone-transparency / 100)) 0 max-pheromone ]\n      [set pcolor black]\n    ]\n    ;ask pheromone-gfx [set color lput transparency-of-currenrtly-displayed-food-pheromone-in-patch food-pheromone-color-rgb ] ]\n    [\n      ifelse nest-pheromone-of-nest current-nest-displaying-pheromone > 3 [\n        set pcolor scale-color nest-pheromone-color nest-pheromone-of-nest current-nest-displaying-pheromone 0 max-pheromone ]\n      [set pcolor black]\n      ;ask pheromone-gfx [set color lput transparency-of-currenrtly-displayed-nest-pheromone-in-patch nest-pheromone-color-rgb ]\n    ]\n  ]\n  [\n    set pcolor black\n  ]\nend\n\n;patch procedure\nto-report transparency-of-currenrtly-displayed-nest-pheromone-in-patch\n  report (((nest-pheromone-of-nest current-nest-displaying-pheromone) / max-pheromone) * 255 * (pheromone-transparency / 100))\nend\n\n;patch procedure\nto-report transparency-of-currenrtly-displayed-food-pheromone-in-patch\n  report (((food-pheromone-of-nest current-nest-displaying-pheromone) / max-pheromone) * 255 * (pheromone-transparency / 100))\nend\n\n;patch procedure\nto-report food-pheromone-of-nest [-nest-source-number]\n  ifelse length nest-source-numbers-used-so-far > 0 [\n    report item -nest-source-number food-pheromone-list ]\n  [\n    report 0\n  ]\nend\n\n;patch procedure\nto-report nest-pheromone-of-nest [-nest-source-number]\n  ifelse length nest-source-numbers-used-so-far > 0 [\n    report item -nest-source-number nest-pheromone-list ]\n  [\n    report 0\n  ]\nend\n\nto-report max-pheromone\n  ;report world-width + world-height\n  report 100\nend\n\n;patch procedure\nto-report patch-has-barrier\n  report is-barrier\n  ;report any? barriers-here\nend\n\n;patch procedure\nto-report patch-has-food\n  report amount-of-food > 0\n  ;report any? food-here\nend\n\n;patch procedure\nto-report patch-has-nest\n  report any? nests-here\nend\n\n;patch procedure\nto-report patch-has-ants\n  report count-ants-in-patch > 0\nend\n\n;patch procedure\nto-report count-ants-in-patch\n  report count ants-here\nend\n\n;turtle procedure\nto move-forward [-distance]\n  move-ant-ahead-until-it-stops-before-barrier -distance\nend\n\n;turtle procedure\nto move-forward1 [-distance]\n  let step-size 0.1\n  let number-of-times-to-move-full-step-size int -distance / step-size\n  let remainder-step-size remainder -distance step-size ;- (number-of-times-to-move-full-step-size * step-size)\n  repeat number-of-times-to-move-full-step-size [move-forward-if-barrier-not-blocking step-size]\n  move-forward-if-barrier-not-blocking remainder-step-size\nend\n\n;turtle procedure\nto move-ant-ahead-until-it-stops-before-barrier [-distance]\n  let -intersection-points-with-barriers-ahead intersection-points-with-barriers-ahead -distance\n  let is-barrier-blocking-ant-from-moving-distance not (empty? -intersection-points-with-barriers-ahead)\n  ifelse is-barrier-blocking-ant-from-moving-distance [\n    let min-distance-to-barrier closest-distance-from-points-to-self -intersection-points-with-barriers-ahead\n    if min-distance-to-barrier > 0.001 [\n      forward  min-distance-to-barrier * 0.95 ]]\n  [\n    forward -distance\n  ]\nend\n\n; turtle procedure\nto-report closest-distance-from-points-to-self [points]\n  report min (map [point -> distancexy first point last point] points)\nend\n\nto-report point-is-on-barrier [point]\n  report any? ((patches-at-point-inclusive point) with [patch-has-barrier])\nend\n\n;turtle procedure\nto move-forward-if-barrier-not-blocking [-distance]\n  if not [patch-has-barrier] of patch-ahead -distance [\n    forward -distance ]\nend\n\n;turtle procedure\nto move-backward [-distance]\n  let step-size 0.1\n  let number-of-times-to-move-full-step-size -distance / step-size\n  let remainder-step-size -distance - (number-of-times-to-move-full-step-size * step-size)\n  repeat number-of-times-to-move-full-step-size [move-backward-if-barrier-not-blocking step-size]\n  move-backward-if-barrier-not-blocking remainder-step-size\nend\n\n;turtle procedure\nto move-backward-if-barrier-not-blocking [-distance]\n  if not [patch-has-barrier] of patch-left-and-ahead 180 -distance [\n    back -distance ]\nend\n\n\n\n;;;;;;;;;;;;;;;;;;;;;\n;;; Go procedures ;;;\n;;;;;;;;;;;;;;;;;;;;;\n\nto go  ;; forever button\n  update-pheromone-color-rgb\n  let patches-ants-are-on patch-set [patch-here] of ants\n  ;advance-ants-1-turn\n  #blocks#advance-ants-1-turn\n  spread-pheromones-in-world\n  recolor-patches patches-ants-are-on\n  update-all-plots\n  update-ant-markers\n  ;time-run-for-number-of-ticks 500\n  tick\nend\n\nto time-run-for-number-of-ticks [tick-amount]\n  ;if ticks = 0 [reset-timer profiler:reset profiler:start]\n  if ticks = 0 [reset-timer]\n  ;if ticks = tick-amount [print timer profiler:stop print profiler:report]\n  if ticks = tick-amount [print timer]\nend\n\nto update-ant-markers\n  ask ant-markers [update-ant-marker-position-to-ant-it-is-marking]\nend\n\n; turtle procedure\nto update-ant-marker-position-to-ant-it-is-marking\n  ifelse ant-being-marked != nobody [\n    setxy [xcor] of ant-being-marked [ycor] of ant-being-marked ]\n  [\n    die\n  ]\nend\n\nto update-all-plots\n  plot-food-sources\n  plot-food-in-nest\nend\n\nto plot-food-in-nest\n  set-current-plot \"כמות אוכל בקנים\"\n  foreach nest-source-numbers-used-so-far [nest-source -> update-nest-source-in-plot nest-source]\nend\n\nto update-nest-source-in-plot [nest-source]\n  set-nest-source-plot-pen nest-source\n  plotxy ticks item nest-source amount-of-food-in-nests\nend\n\nto set-nest-source-plot-pen [nest-source]\n  let nest-source-pen (word \"קן \" (nest-source + 1))\n  ifelse plot-pen-exists? nest-source-pen [\n    set-current-plot-pen nest-source-pen ]\n  [\n    create-temporary-plot-pen nest-source-pen\n    set-plot-pen-color nest-source-number-color nest-source\n  ]\nend\n\nto plot-food-sources\n  set-current-plot \"כמות אוכל במאגרים\"\n  foreach food-source-numbers-used-so-far [food-source -> update-food-source-in-plot food-source]\nend\n\nto update-food-source-in-plot [food-source]\n  set-food-source-plot-pen food-source\n  plotxy ticks food-count food-source ;count food with [source-number = food-source]\nend\n\nto-report food-count [-food-source-number]\n  report item -food-source-number food-count-in-each-food-source\nend\n\nto set-food-source-plot-pen [food-source]\n  let food-source-pen (word \"מאגר \" (food-source + 1))\n  ;let food-source-pen (word (food-source + 1))\n  ifelse plot-pen-exists? food-source-pen [\n    set-current-plot-pen food-source-pen ]\n  [\n    create-temporary-plot-pen food-source-pen\n    set-plot-pen-color food-source-number-color food-source\n  ]\nend\n\nto advance-ants-1-turn\n  ask ants [\n    ;if (who >= min-who-number-of-ants-after-setup + ticks) [ stop ]\n    ;if (who >= ticks) and (who <= number-of-ants) [ stop ] ; delay inital departure of ants, need to find more elegant solution\n    ifelse (is-carrying-food) [\n      return-to-nest ]\n    [\n      look-for-food  ]\n    move-ant\n   ]\nend\n\nto spread-pheromones-in-world\n;  if ticks mod spread-pheromones-every-number-of-ticks = 0 [\n    diffuse-and-evaporate-pheromones\n    remove-pheromones-from-patches-with-barriers\n;  ]\nend\n\nto diffuse-and-evaporate-pheromones\n  let diffusion-rate-normalized (pheromone-diffusion-rate / 100)\n  let evaporation-rate-normalized (100 - pheromone-evaporation-rate) / 100\n  let i 0\n  while [i < (length nest-source-numbers-used-so-far)] [\n    ask patches [\n        set tmp-food-pheromone-value item i food-pheromone-list\n        set tmp-nest-pheromone-value item i nest-pheromone-list\n    ]\n\n      diffuse tmp-food-pheromone-value diffusion-rate-normalized\n      diffuse tmp-nest-pheromone-value diffusion-rate-normalized\n;    repeat spread-pheromones-every-number-of-ticks [\n;      diffuse tmp-food-pheromone-value diffusion-rate-normalized\n;      diffuse tmp-nest-pheromone-value diffusion-rate-normalized\n;      remove-pheromones-from-patches-with-barriers\n;    ]\n\n    ;ifelse (i = length nest-source-numbers-used-so-far - 1) and (ticks mod (spread-pheromones-every-number-of-ticks * 2) = 0) [\n    ifelse (i = length nest-source-numbers-used-so-far - 1) and (ticks mod 6 = 0) [\n      ask patches [\n        ;set food-pheromone-list replace-item i food-pheromone-list (tmp-food-pheromone-value * (evaporation-rate-normalized ^ spread-pheromones-every-number-of-ticks))\n        ;set nest-pheromone-list replace-item i nest-pheromone-list (tmp-nest-pheromone-value * (evaporation-rate-normalized ^ spread-pheromones-every-number-of-ticks))\n        set food-pheromone-list replace-item i food-pheromone-list (tmp-food-pheromone-value * (evaporation-rate-normalized))\n        set nest-pheromone-list replace-item i nest-pheromone-list (tmp-nest-pheromone-value * (evaporation-rate-normalized))\n        recolor-patch\n      ]\n    ]\n    [\n      ask patches [\n        ;set food-pheromone-list replace-item i food-pheromone-list (tmp-food-pheromone-value * (evaporation-rate-normalized ^ spread-pheromones-every-number-of-ticks))\n        ;set nest-pheromone-list replace-item i nest-pheromone-list (tmp-nest-pheromone-value * (evaporation-rate-normalized ^ spread-pheromones-every-number-of-ticks))\n        set food-pheromone-list replace-item i food-pheromone-list (tmp-food-pheromone-value * (evaporation-rate-normalized))\n        set nest-pheromone-list replace-item i nest-pheromone-list (tmp-nest-pheromone-value * (evaporation-rate-normalized))\n\n        ;recolor-patch\n        ;color-pheromone-in-patch\n      ]\n    ]\n    set i (i + 1)\n  ]\nend\n\n;to spread-pheromones-in-world1\n;  diffuse-pheromones\n;  remove-pheromones-from-patches-with-barriers\n;  evaporate-pheromones\n;end\n\nto remove-pheromones-from-patches [-patches]\n  ask -patches [remove-all-pheromones-from-patch]\nend\n\nto remove-pheromones-from-patches-with-barriers\n  remove-pheromones-from-patches patches-with-barriers\nend\n\nto-report patches-with-barriers\n  ;report patches with [patch-has-barrier]\n  report -patches-with-barriers\n  ;report patch-set [patch-here] of barriers\nend\n\n; patch procedure\nto remove-all-pheromones-from-patch\n  remove-food-pheromone-from-patch\n  remove-nest-pheromone-from-patch\nend\n\n; patch procedure\nto remove-food-pheromone-from-patch\n  set food-pheromone-list n-values (length food-pheromone-list) [0]\nend\n\n; patch procedure\nto remove-nest-pheromone-from-patch\n  set nest-pheromone-list n-values (length nest-pheromone-list) [0]\nend\n\n;to diffuse-pheromones\n;  diffuse-food-pheromones\n;  diffuse-nest-pheromones\n;end\n\n;to diffuse-food-pheromones\n;  let diffusion-rate-normalized (pheromone-diffusion-rate / 100)\n;  ask patches [set tmp-pheromone-list-used-for-diffuse food-pheromone-list]\n;  ask patches [diffuse-food-pheromones-in-patch diffusion-rate-normalized]\n;end\n\n;to diffuse-nest-pheromones\n;  let diffusion-rate-normalized (pheromone-diffusion-rate / 100)\n;  ask patches [set tmp-pheromone-list-used-for-diffuse nest-pheromone-list]\n;  ask patches [diffuse-nest-pheromones-in-patch diffusion-rate-normalized]\n;end\n\n; patch procedure\n;to diffuse-food-pheromones-in-patch [diffusion-rate-normalized]\n;  set food-pheromone-list n-values length food-pheromone-list\n;    [nest-source-number -> diffused-value-of-pheromone-for-nest-in-patch nest-source-number diffusion-rate-normalized]\n;end\n\n; patch procedure\n;to-report diffused-value-of-pheromone-for-nest-in-patch [nest-source-number diffusion-rate-normalized]\n;  report ((item nest-source-number tmp-pheromone-list-used-for-diffuse) * (1 - diffusion-rate-normalized)) +\n;    ((sum [item nest-source-number tmp-pheromone-list-used-for-diffuse] of neighbors) / 8) * diffusion-rate-normalized\n;end\n\n; patch procedure\n;to diffuse-nest-pheromones-in-patch [diffusion-rate-normalized]\n;  set nest-pheromone-list n-values length nest-pheromone-list\n;    [nest-source-number -> diffused-value-of-pheromone-for-nest-in-patch nest-source-number diffusion-rate-normalized]\n;end\n\nto evaporate-pheromones\n  ask patches [\n    set food-pheromone-list map [food-pheromone -> food-pheromone * (100 - pheromone-evaporation-rate) / 100] food-pheromone-list\n    set nest-pheromone-list map [nest-pheromone -> nest-pheromone * (100 - pheromone-evaporation-rate) / 100] nest-pheromone-list ]\nend\n\n; turtle procedure\nto move-ant\n  if path-blocked? 0.1 [\n    head-in-direction-with-least-amount-of-barriers-closest-to-current-heading ]\n  ifelse ant-walking-style = \"wiggle\" [\n    wiggley ]\n  [\n    ifelse ant-walking-style = \"backwards\" [\n      backwards ]\n    [\n      ifelse ant-walking-style = \"straight\" [\n        straight ]\n      [\n        ifelse ant-walking-style = \"zig-zag\" [\n          zigzag ]\n        []\n]]]\nend\n\n; turtle procedure\nto head-in-direction-with-least-amount-of-barriers-closest-to-current-heading\n  let unblocked-neighbor4-with-minimum-heading-difference min-difference-in-heading (neighbors4 with [not patch-has-barrier])\n  if unblocked-neighbor4-with-minimum-heading-difference != nobody [face unblocked-neighbor4-with-minimum-heading-difference]\nend\n\n; turtle procedure\nto-report min-difference-in-heading [agentset]\n  report min-one-of agentset [abs subtract-headings [towards myself] of myself [heading] of myself]\nend\n\n; turtle procedure\nto wiggle\n  rt random 40\n  lt random 40\n  if not can-move? 1 [ rt 180 ]\nend\n\n;turtle procedure\nto wiggley\n  wiggle\n  move-forward 1\nend\n\nto backwards\n  move-backward 1\nend\n\n;turtle procedure\nto straight\n  move-forward 1\nend\n\n;turtle procedure\nto zigzag\n  ifelse number-of-ticks-is-even [\n    right random 25 ]\n  [\n    left random 25 ]\n  move-forward 1\nend\n\n; turtle procedure\nto #blocks#zigzag\n  if path-blocked? 0.1 [\n    head-in-direction-with-least-amount-of-barriers-closest-to-current-heading ]\n  ifelse number-of-ticks-is-even [\n    right random 25 ]\n  [\n    left random 25 ]\n  move-forward 1\n  set-maximum-pheromone-release-depending-on-ants-surroundings\nend\n\n; turtle procedure\nto #blocks#straight\n  if path-blocked? 0.1 [\n    head-in-direction-with-least-amount-of-barriers-closest-to-current-heading ]\n  move-forward 1\n  set-maximum-pheromone-release-depending-on-ants-surroundings\nend\n\n; turtle procedure\nto #blocks#walk-random [cone-angle-range]\n  if path-blocked? 0.1 [\n    head-in-direction-with-least-amount-of-barriers-closest-to-current-heading ]\n  head-in-random-direction-ahead cone-angle-range\n  move-forward 1\n  set-maximum-pheromone-release-depending-on-ants-surroundings\nend\n\n; turtle procedure\nto #blocks#release-food-pheromone\n  release-food-pheromone\n  decrease-food-pheromone\nend\n\n; turtle procedure\nto #blocks#release-nest-pheromone\n  release-nest-pheromone\n  decrease-nest-pheromone\nend\n\n; turtle procedure\nto set-maximum-pheromone-release-depending-on-ants-surroundings\n  if is-ant-standing-on-home-nest [\n    set nest-pheromone-released max-pheromone ]\n  if is-ant-standing-on-food [\n    set food-pheromone-released max-pheromone ]\nend\n\nto-report number-of-ticks-is-even\n  report ticks mod 2 = 0\nend\n\n; turtle procedure\nto drop-food\n  set amount-of-food-carried 0\n  set-color-of-ant-not-carrying-food\n  set-shape-of-ant-not-carrying-food\nend\n\n; turtle procedure\nto set-shape-of-ant-not-carrying-food\n  set shape \"bug\"\n  ;set shape \"square\"\n  ;set shape \"bug2\"\nend\n\n; turtle procedure\nto set-color-of-ant-not-carrying-food\n  set color (nest-source-number-color home-nest-source-number)\nend\n\n; turtle procedure\nto-report is-ant-standing-on-home-nest\n  report any? nests-here with [source-number = [home-nest-source-number] of myself]\n  ;report [patch-has-nest] of patch-here\nend\n\n; turtle procedure\nto return-to-nest\n  ifelse is-ant-standing-on-home-nest [\n    add-food-to-nest-ant-is-standing-on\n    turn-around ]\n  [\n    carry-food-home ]\nend\n\n; turtle-procedure\nto add-food-to-nest-ant-is-standing-on\n  if is-ant-standing-on-home-nest and is-carrying-food [\n    add-food-to-nest nest-source-number-ant-is-on\n    drop-food\n  ]\nend\n\n; turtle-procedure\nto add-food-to-nest [-nest-source-number]\n  set amount-of-food-in-nests replace-item\n    -nest-source-number amount-of-food-in-nests ((item -nest-source-number amount-of-food-in-nests) + amount-of-food-carried)\n  on-ant-added-food-to-nest\nend\n\nto-report nest-center [-nest-source-number]\n  report item -nest-source-number center-of-nests\nend\n\nto-report food-source-center-patch [-food-source-number]\n  report item -food-source-number center-of-food-sources\nend\n\n; turtle-procedure\nto-report nest-source-number-ant-is-on\n  report [source-number] of one-of nests-here\nend\n\n; turtle-procedure\nto on-ant-added-food-to-nest\n    update-food-count-gfx-overlay-for-nest nest-source-number-ant-is-on\nend\n\nto update-food-count-gfx-overlay-for-nest [-nest-source-number]\n  ask get-nest-information-gfx-overlay -nest-source-number [\n    ;ask food-count-gfx-overlay [set label word \"Food: \" amount-of-food-in-nest -nest-source-number]\n    ask food-count-gfx-overlay [set label word \"אוכל: \" amount-of-food-in-nest -nest-source-number]\n  ]\nend\n\nto update-food-count-gfx-overlay-for-food-source [-food-source-number]\n  ask get-food-source-information-gfx-overlay -food-source-number [\n    ;ask food-count-gfx-overlay [set label word \"Food: \" amount-of-food-in-nest -nest-source-number]\n    ask food-count-gfx-overlay [set label word \"אוכל: \" food-count-in-food-source -food-source-number]\n  ]\nend\n\nto-report get-food-source-information-gfx-overlay [-food-source-number]\n  report item -food-source-number food-sources-information-gfx-overlay\nend\n\nto-report get-nest-information-gfx-overlay [-nest-source-number]\n  report item -nest-source-number nests-information-gfx-overlay\nend\n\n; patch-procedure\nto-report amount-of-food-in-nest [-nest-source-number]\n  report item -nest-source-number amount-of-food-in-nests\nend\n\n; turtle procedure\nto carry-food-home\n  release-food-pheromone\n  decrease-food-pheromone\n  turn-towards-nest\nend\n\n; turtle procedure\nto turn-towards-nest\n  ifelse home-nest-in-neighbor-patch [\n    face-towards-neighbor-patch-with-home-nest-with-least-heading-difference ]\n  [\n    face-in-direction-of-strongest-nest-pheromone\n  ]\nend\n\n; turtle procedure\nto-report home-nest-in-neighbor-patch\n  report any? neighbors with [patch-has-home-nest-of-ant myself]\nend\n\n; turtle procedure\nto face-towards-neighbor-patch-with-home-nest-with-least-heading-difference\n  let neighbor-patch-with-home-nest-with-minimum-heading-difference min-difference-in-heading (neighbors with [patch-has-home-nest-of-ant myself])\n  if neighbor-patch-with-home-nest-with-minimum-heading-difference != nobody [\n    face neighbor-patch-with-home-nest-with-minimum-heading-difference ]\nend\n\nto-report patch-has-home-nest-of-ant [-ant]\n  report any? nests-here with [source-number = [home-nest-source-number] of -ant]\nend\n\n; turtle procedure\nto-report is-time-for-ant-to-drop-food-pheromone\n    report can-drop-food-pheromone-according-to-pheromone-drop-rate and pheromone-drop-rate > 0\nend\n\n; turtle procedure\nto-report can-drop-food-pheromone-according-to-pheromone-drop-rate\n  report (ticks + pheromone-zero-clock) mod (11 - pheromone-drop-rate) = 0\nend\n\n; turtle procedure\nto release-food-pheromone\n  if is-time-for-ant-to-drop-food-pheromone [\n    add-food-phermone-to-patch\n  ]\nend\n\n; turtle procedure\nto decrease-food-pheromone\n  set food-pheromone-released food-pheromone-released * ((100 - pheromone-released-decrease-rate) / 100)\nend\n\n; turtle procedure\nto add-food-phermone-to-patch\n  if food-pheromone-here < food-pheromone-released [\n    set-food-pheromone-here food-pheromone-released ]\nend\n\n; turtle procedure\nto-report food-pheromone-here\n  report item home-nest-source-number food-pheromone-list\nend\n\n; turtle procedure\nto set-food-pheromone-here [amount]\n  set food-pheromone-list replace-item home-nest-source-number food-pheromone-list amount\nend\n\n; turtle procedure\nto-report is-ant-standing-on-food\n  report [patch-has-food] of patch-here\nend\n\n; turtle procedure\nto pick-up-food-from-patch\n  if is-ant-standing-on-food [\n    ;let food-on-patch one-of food-here\n    set amount-of-food-carried amount-of-food-carried + 1\n    ask patch-here [reduce-food-in-patch 1]\n    set-color-of-ant-carrying-food [color-of-food-in-patch] of patch-here\n    set-shape-of-ant-carrying-food\n    ;ask food-on-patch [die]\n  ]\nend\n\n; patch procedure\nto-report color-of-food-in-patch\n  report food-source-number-color food-source-number\nend\n\nto-report  get-base-color-of-shade [shade]\n  let lowest-shade-of-base-color-that-shade-belongs-to ((int (shade / 10)) * 10)\n  let difference-in-value-between-base-color-and-its-lowest-shade 5\n  let base-color lowest-shade-of-base-color-that-shade-belongs-to + difference-in-value-between-base-color-and-its-lowest-shade\n  report base-color\nend\n\n;turtle prcedure\nto set-color-of-ant-carrying-food [-color]\n  set color -color\nend\n\n;turtle prcedure\nto set-shape-of-ant-carrying-food\n  set shape word \"ant-carrying-food-body-color-\" nest-source-number-color home-nest-source-number\n  ;set shape ant-carrying-food-shape\n  ;set shape \"square\"\n  ;set shape \"bug new\"\n  ;set shape \"ant-carrying-food-square-1\"\nend\n\n; patch procedure\nto reduce-food-in-patch [amount-to-reduce]\n  if amount-to-reduce > 0 [\n   let actual-amount-reduced ifelse-value amount-to-reduce > amount-of-food [amount-of-food] [amount-to-reduce]\n   set amount-of-food amount-of-food - actual-amount-reduced\n   on-food-reduced-from-patch actual-amount-reduced food-source-number\n  ]\n  ;ask one-of food-here [die]\nend\n\nto-report food-count-in-food-source [-food-source-number]\n  report item -food-source-number food-count-in-each-food-source\nend\n\n; turtle procedure\nto turn-around\n  rt 180\nend\n\n; turtle procedure\nto look-for-food\n  if is-ant-standing-on-home-nest [\n    set nest-pheromone-released max-pheromone ]\n  ifelse is-ant-standing-on-food [\n    set food-pheromone-released max-pheromone\n    pick-up-food-from-patch\n    turn-around\n    carry-food-home ]\n  [\n    move-towards-food\n    release-nest-pheromone\n    decrease-nest-pheromone\n  ]\nend\n\n; turtle procedure\nto move-towards-food\n  ifelse neighbor-patch-has-food [\n    face-towards-neighbor-patch-with-food-with-least-heading-difference ]\n  [\n    ifelse ant-can-sense-food-pheromone [\n      face-toward-patch-with-strongest-food-pheromone-in-cone-ahead 3 90\n      ;face-toward-patch-with-strongest-food-pheromone-left-right-ahead\n    ]\n\n    [\n      face-toward-patch-with-weakest-nest-pheromone-in-cone-ahead 3 90\n      ;face-toward-patch-with-least-amount-of-ants-and-heading-difference-in-cone-ahead 3 90\n      ;face-toward-patch-with-weakest-nest-pheromone-left-right-ahead\n    ]\n  ]\nend\n\n; turtle procedure\nto face-toward-patch-with-least-amount-of-ants-and-heading-difference-in-cone-ahead [radius angle]\n  let patch-with-least-ants-in-cone-ahead min-difference-in-heading ((patches in-cone radius angle) with-min [count ants-here])\n  if patch-with-least-ants-in-cone-ahead != nobody [\n    face patch-with-least-ants-in-cone-ahead]\nend\n\n; turtle procedure\nto-report neighbor-patch-has-food\n  report any? neighbors with [patch-has-food]\nend\n\n; turtle procedure\nto face-towards-neighbor-patch-with-food-with-least-heading-difference\n  let neighbor-patch-with-food-with-minimum-heading-difference min-difference-in-heading (neighbors with [patch-has-food])\n  if neighbor-patch-with-food-with-minimum-heading-difference != nobody [\n    face neighbor-patch-with-food-with-minimum-heading-difference ]\nend\n\n; turtle procedure\nto face-toward-patch-with-weakest-nest-pheromone-in-cone-ahead [radius angle]\n  let -patch-with-weakest-nest-pheromone-in-cone-ahead patch-with-weakest-nest-pheromone-in-cone-ahead radius angle\n  if -patch-with-weakest-nest-pheromone-in-cone-ahead != nobody [\n    face -patch-with-weakest-nest-pheromone-in-cone-ahead ]\nend\n\n; turtle procedure\nto face-toward-patch-with-weakest-nest-pheromone-left-right-ahead\n  let patch-with-weakest-nest-pheromone min-one-of ((patch-set patch-right-and-ahead 45 1 patch-left-and-ahead 45 1 patch-ahead 1) with [not patch-has-barrier]) [nest-pheromone-of-ant myself]\n  if patch-with-weakest-nest-pheromone != nobody [\n    face patch-with-weakest-nest-pheromone ]\nend\n\n; patch procedure\nto-report nest-pheromone-of-ant [-ant]\n  report item [home-nest-source-number] of -ant nest-pheromone-list\nend\n\n; turtle procedure\nto-report patch-with-weakest-nest-pheromone-in-cone-ahead [radius angle]\n  ;report min-one-of filter-patches-behind-barriers-from-ants-line-of-sight (patches in-cone radius angle) [nest-pheromone]\n  ;report min-one-of (patches in-cone radius angle) [nest-pheromone]\n  report min-one-of filter-patches-behind-barriers-from-ants-line-of-sight1 (patches in-cone radius angle) [nest-pheromone-of-ant myself]\nend\n\n; turtle procedure\nto-report filter-patches-behind-barriers-from-ants-line-of-sight [-patches]\n  report -patches with [no-barrier-between-ant myself]\nend\n\n; patch procedure\nto-report no-barrier-between-ant [-ant]\n  report not any? (patches-line-intersects (list pxcor pycor) (list [xcor] of -ant [ycor] of -ant)) with [patch-has-barrier]\nend\n\n; turtle procedure\nto-report filter-patches-behind-barriers-from-ants-line-of-sight1 [-patches]\n  let x map [-patch -> heading-and-distance-range-of-patch-from-self -patch] ([self] of (-patches with [patch-has-barrier])) ;[self] of (patches in-cone 3 360 with [patch-has-barrier])\n  ifelse not empty? x [\n  let heading-and-distance-ranges-of-barrier-patches reduce sentence x\n    report (-patches with [not patch-has-barrier]) with [not is-behind-headings-at-distance-from myself heading-and-distance-ranges-of-barrier-patches] ]\n  [\n    report -patches\n  ]\nend\n\n; turtle procedure\nto-report heading-and-distance-range-of-patch-from-self [-patch]\n  let distance-to-patch distance -patch\n  let -heading-to-corners-of-patch heading-to-corners-of-patch -patch\n  let min-heading-to-corner min -heading-to-corners-of-patch\n  let max-heading-to-corner max -heading-to-corners-of-patch\n  let heading-0-passes-through-patch (max-heading-to-corner - min-heading-to-corner) >= 180\n  ifelse heading-0-passes-through-patch [\n    report (list\n      (list (min (filter [-heading -> -heading >= 270] -heading-to-corners-of-patch)) 360 distance-to-patch)\n      (list 0 (max (filter [-heading -> -heading <= 90] -heading-to-corners-of-patch)) distance-to-patch) )\n    ]\n  [\n    report (list (list min-heading-to-corner max-heading-to-corner distance-to-patch) )\n  ]\nend\n\n; turtle procedure\nto-report heading-to-corners-of-patch [-patch]\n  report map [corner-point-of-patch -> towardsxy first corner-point-of-patch last corner-point-of-patch] ([corner-points-of-patch] of -patch)\nend\n\n; patch procedure\nto-report corner-points-of-patch\n  report (list\n    (list (pxcor - 0.5) (pycor + 0.5))\n    (list (pxcor + 0.5) (pycor + 0.5))\n    (list (pxcor - 0.5) (pycor - 0.5))\n    (list (pxcor + 0.5) (pycor - 0.5)) )\nend\n\n; patch procedure\nto-report is-behind-headings-at-distance-from [-turtle heading-and-distance-ranges]\n  let distance-from-turtle [distance myself] of -turtle\n  ifelse distance-from-turtle > 0 [\n    let heading-from-turtle [towards myself] of -turtle\n    report not empty? filter\n      [\n        heading-and-distance-range ->\n        (distance-from-turtle > item 2 heading-and-distance-range) and\n        (heading-from-turtle > item 0 heading-and-distance-range) and\n        (heading-from-turtle < item 1 heading-and-distance-range)\n      ] heading-and-distance-ranges ]\n  [\n    report false\n  ]\nend\n\n;turtle-procedure\nto release-nest-pheromone\n  if is-time-for-ant-to-drop-nest-pheromone [\n    add-nest-phermone-to-patch\n  ]\nend\n\n;turtle-procedure\nto decrease-nest-pheromone\n  set nest-pheromone-released nest-pheromone-released * ((100 - pheromone-released-decrease-rate) / 100)\nend\n\n; turtle procedure\nto-report is-time-for-ant-to-drop-nest-pheromone\n    report can-drop-nest-pheromone-according-to-pheromone-drop-rate and pheromone-drop-rate > 0\nend\n\nto-report can-drop-nest-pheromone-according-to-pheromone-drop-rate\n  report (ticks + pheromone-zero-clock) mod (11 - pheromone-drop-rate) = 0\nend\n\n; turtle procedure\nto add-nest-phermone-to-patch\n  if nest-pheromone-here < nest-pheromone-released [\n    set-nest-pheromone-here nest-pheromone-released ]\nend\n\n; turtle procedure\nto-report nest-pheromone-here\n  report item home-nest-source-number nest-pheromone-list\nend\n\n; turtle procedure\nto set-nest-pheromone-here [amount]\n  set nest-pheromone-list replace-item home-nest-source-number nest-pheromone-list amount\nend\n\n; turtle procedure\nto pheromone-driven\n    if ant-can-sense-food-pheromone [\n      face-in-direction-of-strongest-food-pheromone ]\nend\n\n; turtle procedure\nto-report ant-can-sense-food-pheromone\n  ;report true\n  ;report (food-pheromone >= 0.05) and (food-pheromone < 2)\n  report (food-pheromone-here >= max-pheromone * food-sniff-sensitivity-lower-threshold)\nend\n\n; turtle procedure\n;to ant-after-ant\n;  ; look in cone of about 90 degrees  -\n;  ; if there are ants there that is less than x away, choose one - in-cone vision-radius vision-angle in-cone 15 90\n;  ; change direction slightly in that ant's direction\n;  if ticks > 20 [\n;    ifelse not is-following-another-ant [\n;      choose-ant-to-follow ]\n;    [\n;      head-in-direction-of-ant-it-is-following\n;      keep-distance-between-flockmates ]\n;  ]\n;end\n\n; turtle-procedure\n;to keep-distance-between-flockmates\n;  if has-flockmates [\n;    separate-from-nearest-flockmate ]\n;end\n\n; turtle-procedure\n;to separate-from-nearest-flockmate\n;    find-nearest-flockmate\n;    if is-too-close-to-nearest-flockmate [\n;      head-away-from-nearest-flockmate ]\n;end\n\n; turtle-procedure\n;to-report is-too-close-to-nearest-flockmate\n;  report distance nearest-neighbor < minimum-separation\n;end\n\n; turtle procedure\n;to-report has-flockmates\n;  find-flockmates\n;  report any? flockmates\n;end\n\n;turtle procedure\n;to head-in-direction-of-ant-it-is-following\n;  set heading towards leader\n;end\n\n; turtle procedure\n;to-report is-following-another-ant\n;  report not (leader = nobody)\n;end\n\n; turtle procedure\n;to choose-ant-to-follow\n;  set leader one-of other ants in-cone 15 90\n;end\n\n; turtle procedure\n;to head-away-from-nearest-flockmate\n;  turn-away-from nearest-neighbor max-separate-turn\n;end\n\n; turtle procedure\nto turn-away-from [ant-to-turn-away-from maximum-angle-for-turn]\n  let heading-of-ant-to-turn-away-from [heading] of ant-to-turn-away-from\n  turn-at-most (subtract-headings heading heading-of-ant-to-turn-away-from) maximum-angle-for-turn\nend\n\n; turtle procedure\nto turn-at-most [turn max-turn]\n  ifelse abs turn > max-turn\n    [ ifelse turn > 0\n        [ rt max-turn ]\n        [ lt max-turn ] ]\n    [ rt turn ]\nend\n\n; turtle procedure\n;to find-flockmates\n;  set flockmates other ants in-radius radius-ant-searches-for-flockmates\n;end\n\n; turtle procedure\n;to find-nearest-flockmate\n;  set nearest-neighbor min-one-of flockmates [distance myself]\n;end\n\n; turtle procedure\nto face-in-direction-of-strongest-food-pheromone\n  face-toward-patch-with-strongest-food-pheromone-in-cone-ahead 3 90\nend\n\n; turtle procedure\nto face-toward-patch-with-strongest-food-pheromone-in-cone-ahead [radius angle]\n  let -patch-with-strongest-food-pheromone-in-cone-ahead patch-with-strongest-food-pheromone-in-cone-ahead radius angle\n  if -patch-with-strongest-food-pheromone-in-cone-ahead != nobody [\n    face -patch-with-strongest-food-pheromone-in-cone-ahead ]\nend\n\n; turtle procedure\nto face-toward-patch-with-strongest-food-pheromone-left-right-ahead\n  let patch-with-strongest-food-pheromone max-one-of ((patch-set patch-right-and-ahead 45 1 patch-left-and-ahead 45 1 patch-ahead 1) with [not patch-has-barrier]) [food-pheromone-of-ant myself]\n  if patch-with-strongest-food-pheromone != nobody [\n    face patch-with-strongest-food-pheromone ]\nend\n\n; patch procedure\nto-report food-pheromone-of-ant [-ant]\n  report item [home-nest-source-number] of -ant food-pheromone-list\nend\n\n; turtle procedure\nto-report patch-with-strongest-food-pheromone-in-cone-ahead [radius angle]\n  ;report max-one-of filter-patches-behind-barriers-from-ants-line-of-sight (patches in-cone radius angle) [food-pheromone]\n  ;report max-one-of (patches in-cone radius angle) [food-pheromone]\n  report max-one-of filter-patches-behind-barriers-from-ants-line-of-sight1 (patches in-cone radius angle) [food-pheromone-of-ant myself]\nend\n\n;turtle procedure\nto-report barrier-ahead? [-distance]\n  report not empty? intersection-points-with-barriers-ahead -distance\nend\n\n;turtle procedure\nto-report path-blocked? [-distance]\n  report (barrier-ahead? -distance) or (not can-move? 1)\nend\n\n; turtle procedure\nto-report intersection-points-with-barriers-ahead [-distance]\n  report filter [point -> point-is-on-barrier point] intersections-with-patch-borders self-point point-ahead -distance\nend\n\n; turtle procedure\nto-report self-point\n  report (list xcor ycor)\nend\n\n; turtle procedre\nto-report point-ahead [-distance]\n  report (list (xcor + (dx * -distance)) (ycor + (dy * -distance)))\nend\n\n; turtle procedure\nto head-in-random-direction-ahead [angle]\n  set heading heading + random-angle-offset-from-center-angle-of-cone angle\nend\n\nto-report random-angle-offset-from-center-angle-of-cone [cone-angle]\n  let max-angle-difference-from-center-angle-of-cone (cone-angle / 2)\n  let -random-angle-offset-from-center-angle-of-cone (random cone-angle) - max-angle-difference-from-center-angle-of-cone\n  report -random-angle-offset-from-center-angle-of-cone\nend\n\n; turtle procedure\nto turn-around-and-head-in-random-direction-ahead [angle]\n  turn-around\n  head-in-random-direction-ahead angle\nend\n\n; turtle procedure\nto face-in-direction-of-strongest-nest-pheromone\n  if ant-can-sense-nest-pheromone [\n    face-toward-patch-with-strongest-nest-pheromone-in-cone-ahead 3 90\n  ]\nend\n\n; turtle procedure\nto-report ant-can-sense-nest-pheromone\n  report (nest-pheromone-here >= max-pheromone * nest-sniff-sensitivity-lower-threshold)\nend\n\n; turtle procedure\nto face-toward-patch-with-strongest-nest-pheromone-in-cone-ahead [radius angle]\n  let -patch-with-strongest-nest-pheromone-ahead-in-cone patch-with-strongest-nest-pheromone-ahead-in-cone radius angle\n  if -patch-with-strongest-nest-pheromone-ahead-in-cone != nobody [\n    face -patch-with-strongest-nest-pheromone-ahead-in-cone ]\nend\n\n; turtle procedure\nto face-toward-patch-with-strongest-nest-pheromone-left-right-ahead\n  let patch-with-strongest-nest-pheromone max-one-of ((patch-set patch-right-and-ahead 45 1 patch-left-and-ahead 45 1 patch-ahead 1) with [not patch-has-barrier]) [nest-pheromone-of-ant myself]\n  if patch-with-strongest-nest-pheromone != nobody [\n    face patch-with-strongest-nest-pheromone ]\nend\n\n; turtle procedure\nto-report patch-with-strongest-nest-pheromone-ahead-in-cone [radius angle]\n  ;report max-one-of filter-patches-behind-barriers-from-ants-line-of-sight (patches in-cone radius angle) [nest-pheromone]\n  ;report max-one-of (patches in-cone radius angle) [nest-pheromone]\n  report max-one-of filter-patches-behind-barriers-from-ants-line-of-sight1 (patches in-cone radius angle) [nest-pheromone-of-ant myself]\nend\n\n;===== MATH ==================\n\nto-report patches-line-intersects [point1 point2]\n  report (patch-set patches-at-points-inclusive intersections-with-patch-borders point1 point2\n    patch-at-point point1 patch-at-point point2)\nend\n\nto-report patches-at-points-inclusive [points]\n  report map [point -> patches-at-point-inclusive point] points\nend\n\nto-report intersections-with-patch-borders [point1 point2]\n  report sentence (points-of-intersection-with-vertical-grid point1 point2) (points-of-intersection-with-horizontal-grid point1 point2)\nend\n\nto-report points-of-intersection-with-vertical-grid [point1 point2]\n  report map [vertical-grid-xcor -> intersection-of-line-with-vertical-grid-at-xcor point1 point2 vertical-grid-xcor]\n             xcor-of-intersecting-vertical-grids point1 point2\nend\n\nto-report xcor-of-intersecting-vertical-grids [point1 point2]\n  let lowest-xcor-in-line lowest-xcor-of-points point1 point2\n  let highest-xcor-in-line highest-xcor-of-points point1 point2\n  report steps-in-range-inclusive lowest-xcor-in-line highest-xcor-in-line 1 0.5\nend\n\nto-report lowest-xcor-of-points [point1 point2]\n  let point1-xcor first point1\n  let point2-xcor first point2\n  report ifelse-value point1-xcor < point2-xcor [point1-xcor] [point2-xcor]\nend\n\nto-report highest-xcor-of-points [point1 point2]\n  let point1-xcor first point1\n  let point2-xcor first point2\n  report ifelse-value point1-xcor > point2-xcor [point1-xcor] [point2-xcor]\nend\n\nto-report intersection-of-line-with-vertical-grid-at-xcor [point1 point2 vertical-grid-xcor]\n  ifelse is-vertical point1 point2 [\n    report point1 ]\n  [\n    let slope slope-of point1 point2\n    let y-intercept y-intercept-of point1 point2\n    let intersection-ycor (slope * vertical-grid-xcor) + y-intercept\n    report (list vertical-grid-xcor intersection-ycor)\n  ]\nend\n\nto-report is-vertical [point1 point2]\n  report first point1 = first point2\nend\n\nto-report points-of-intersection-with-horizontal-grid [point1 point2]\n  report map [horizantal-grid-ycor -> intersection-of-line-with-horizontal-grid-at-ycor point1 point2 horizantal-grid-ycor]\n             ycor-of-intersecting-horizontal-grids point1 point2\nend\n\nto-report ycor-of-intersecting-horizontal-grids [point1 point2]\n  let lowest-ycor-in-line lowest-ycor-of-points point1 point2\n  let highest-ycor-in-line highest-ycor-of-points point1 point2\n  report steps-in-range-inclusive lowest-ycor-in-line highest-ycor-in-line 1 0.5\nend\n\nto-report steps-in-range-inclusive [start-inclusive stop-inclusive step offset]\n  let adjacent-step-above-start ((ceiling ( (start-inclusive - offset) / step ) ) * step) + offset\n  let adjacent-step-below-stop ((floor ( (stop-inclusive - offset) / step ) ) * step) + offset\n  let amount-of-steps-in-range ifelse-value (adjacent-step-below-stop - adjacent-step-above-start) >= 0\n      [((adjacent-step-below-stop - adjacent-step-above-start) / step) + 1][0]\n  report n-values amount-of-steps-in-range [step-index -> adjacent-step-above-start + (step-index * step)]\nend\n\nto-report lowest-ycor-of-points [point1 point2]\n  let point1-ycor last point1\n  let point2-ycor last point2\n  report ifelse-value point1-ycor < point2-ycor [point1-ycor] [point2-ycor]\nend\n\nto-report highest-ycor-of-points [point1 point2]\n  let point1-ycor last point1\n  let point2-ycor last point2\n  report ifelse-value point1-ycor > point2-ycor [point1-ycor] [point2-ycor]\nend\n\nto-report intersection-of-line-with-horizontal-grid-at-ycor [point1 point2 horizantal-grid-ycor]\n  ifelse is-horizontal point1 point2 [\n    report point1 ]\n  [\n    ifelse is-vertical point1 point2 [\n      report (list first point1 horizantal-grid-ycor)\n       ]\n    [\n      let slope slope-of point1 point2\n      let y-intercept y-intercept-of point1 point2\n      let intersection-xcor (horizantal-grid-ycor - y-intercept) / slope\n      report (list intersection-xcor horizantal-grid-ycor)\n    ]\n  ]\nend\n\nto-report slope-of [point1 point2]\n  report (last point2 - last point1) / (first point2 - first point1)\nend\n\nto-report y-intercept-of [point1 point2]\n  let point1-xcor first point1\n  let point1-ycor last point1\n  let slope slope-of point1 point2\n  report point1-ycor - (slope * point1-xcor)\nend\n\nto-report is-horizontal [point1 point2]\n  report last point1 = last point2\nend\n\nto-report patches-at-point-inclusive [point]\n  ifelse point-is-corner-of-patch-border point [\n    report all-patches-with-grid-corner-point point ]\n  [\n    ifelse point-is-on-horizontal-border-of-a-patch point [\n      report patches-above-and-below-point-on-horizontal-patch-border point ]\n    [\n      if point-is-on-vertical-border-of-a-patch point [\n        report patches-right-and-left-of-point-on-vertical-patch-border point]\n    ]\n  ]\nend\n\nto-report all-patches-with-grid-corner-point [point]\n report (patch-set patches-right-and-left-of-point-on-vertical-patch-border list (first point) (last point + 0.5)\n                   patches-right-and-left-of-point-on-vertical-patch-border list (first point) (last point - 0.5))\nend\n\nto-report point-is-corner-of-patch-border [point]\n  report point-is-on-horizontal-border-of-a-patch point and point-is-on-vertical-border-of-a-patch point\nend\n\nto-report point-is-on-horizontal-border-of-a-patch [point]\n  report (last point + 0.5) mod 1 = 0\nend\n\nto-report patches-above-and-below-point-on-horizontal-patch-border [point]\n  report (patch-set patch-at-point list (first point) (last point + 0.5)\n                    patch-at-point list (first point) (last point - 0.5))\nend\n\nto-report patches-right-and-left-of-point-on-vertical-patch-border [point]\n  report (patch-set patch-at-point list (first point + 0.5) (last point)\n                    patch-at-point list (first point - 0.5) (last point))\nend\n\nto-report point-is-on-vertical-border-of-a-patch [point]\nreport (first point + 0.5) mod 1 = 0\nend\n\nto-report patch-at-point [point]\n  report patch first point last point\nend\n\n;========= Save/Load World =============\n\nto save-world-to-file\n  ;let file-path-save-world user-new-file\n  ;if is-string? file-path-save-world [\n  ;  export-world file-path-save-world ]\n  let file-name user-input \"איזה שם לתת לקובץ?\"\n  export-world (word file-name)\nend\n\nto load-world-from-file\n;  let file-path-load-world user-file\n;  if is-string? file-path-load-world [\n;    import-world file-path-load-world\n;    set last-world-file-that-was-loaded file-path-load-world ]\n  ;let text fetch:user-file ;[text ->\n  fetch:user-file-async [text ->\n    if not (text = false) [\n      carefully [\n        import-a:world text\n      ] [\n        user-message \"אין אפשרות לטעון את הקובץ\"\n      ]\n    ]\n  ]\nend\n\n;to reload-last-world-that-was-loaded-from-file\n;  let tmp last-world-file-that-was-loaded\n;  ; need to fix this code written badly\n;  if (is-string? last-world-file-that-was-loaded) and (file-exists? last-world-file-that-was-loaded) and (last-world-file-that-was-loaded != \"\") [\n;    import-world last-world-file-that-was-loaded\n;    set last-world-file-that-was-loaded tmp]\n;end\n\n;to-report get-last-world-file-that-was-loaded\n;  ifelse is-string? last-world-file-that-was-loaded [\n;    report last-world-file-that-was-loaded ]\n;  [\n;    report \"\"\n;  ]\n;end\n;=======================================\n\n;====== Background ================================\n\nto set-background-image-to-default\n  set background-type-being-displayed \"default\"\n  import-a:drawing default-background-image-base64\nend\n\nto-report default-background-image-base64\n  report 0\nend\n; --- NETTANGO BEGIN ---\n\n; This block of code was added by the NetTango builder.  If you modify this code\n; and re-import it into the NetTango builder you may lose your changes or need\n; to resolve some errors manually.\n\n; If you do not plan to re-import the model into the NetTango builder then you\n; can safely edit this code however you want, just like a normal NetLogo model.\n\n; Code for setup\nto #blocks#create-world\n  create-circular-nest-with-ants 0 0 4 100\n  create-circular-mound-food-source 21 0 5\n  create-circular-mound-food-source -21 -21 5\n  create-circular-mound-food-source -28 28 5\nend\n\n; Code for go\nto #blocks#advance-ants-1-turn\n  ask ants\n  [\n    if not is-carrying-food\n    [\n      #blocks#release-nest-pheromone\n      move-towards-food\n      if is-ant-standing-on-food\n      [\n        pick-up-food-from-patch\n        \n        turn-around\n      ]\n    ]\n    if is-carrying-food\n    [\n      #blocks#release-food-pheromone\n      turn-towards-nest\n      if is-ant-standing-on-home-nest\n      [\n        add-food-to-nest-ant-is-standing-on\n        turn-around\n      ]\n    ]\n    #blocks#zigzag\n  ]\nend\n; --- NETTANGO END ---\n@#$#@#$#@\nGRAPHICS-WINDOW\n440\n10\n1150\n720\n-1\n-1\n10\n1\n10\n1\n1\n1\n0\n0\n0\n1\n-35\n35\n-35\n35\n1\n1\n1\nticks\n30\n\nBUTTON\n1386\n27\n1480\n96\nאיתחול\nsetup\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n1\n\nBUTTON\n1285\n27\n1378\n96\nהרצה\ngo\nT\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nPLOT\n0\n10\n433\n323\nכמות אוכל במאגרים\nזמן\nאוכל\n0\n50\n0\n120\ntrue\ntrue\n\"\" \"\"\nPENS\n\n\nBUTTON\n1367\n161\n1463\n194\nתצפית על נמלה\nwatch ant (min [who] of ants)\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n1467\n161\n1563\n194\nמעקב על נמלה\nride ant (min [who] of ants)\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n1404\n201\n1523\n234\nהפסק מעקב\\תצפית\nreset-perspective\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n1207\n151\n1312\n184\nהפעל מברשת\nactivate-brush\nT\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nSLIDER\n1185\n423\n1324\n456\nbrush-size\nbrush-size\n1\n20\n3\n1\n1\nNIL\nHORIZONTAL\n\nBUTTON\n1263\n271\n1321\n304\nאוכל\nset-brush-type \\\"food\\\"\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n1198\n271\n1255\n304\nמחסום\nset-brush-type \\\"barrier\\\"\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n1197\n314\n1255\n347\nנמלים\nset-brush-type \\\"ant\\\"\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n1263\n314\n1321\n347\nקן\nset-brush-type \\\"nest\\\"\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nTEXTBOX\n1232\n129\n1289\n161\nמברשת\n15\n0\n1\n\nINPUTBOX\n162\n641\n281\n701\nfood-pheromone-color\n65\n1\n0\nColor\n\nINPUTBOX\n36\n641\n155\n701\nnest-pheromone-color\n115\n1\n0\nColor\n\nBUTTON\n1403\n245\n1525\n278\nנמלה משאירה שביל\nset-brush-type \\\"trail\\\"\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n1403\n488\n1522\n521\nנקה שביל נמלים\nclear-ant-trails\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n1404\n419\n1523\n452\nהפסק סימון שבילים\nask ants [pen-up]\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n1182\n27\n1276\n96\nהתקדם צעד 1\ngo\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n1401\n334\n1523\n367\nסימון נמלה בעיגול\nset-brush-type \\\"mark\\\"\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nINPUTBOX\n288\n641\n384\n701\nbarrier-color\n45\n1\n0\nColor\n\nMONITOR\n1250\n676\n1300\n721\nNest\ncurrent-nest-displaying-pheromone\n17\n1\n11\n\nSLIDER\n1314\n679\n1506\n712\npheromone-transparency\npheromone-transparency\n0\n100\n100\n1\n1\nNIL\nHORIZONTAL\n\nPLOT\n0\n329\n433\n575\nכמות אוכל בקנים\nזמן\nאוכל\n0\n10\n0\n10\ntrue\ntrue\n\"\" \"\"\nPENS\n\n\nBUTTON\n1181\n196\n1252\n234\nצביעה\nuser-set-brush-to-draw\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n1265\n196\n1334\n234\nמחיקה\nuser-set-brush-to-erase\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n1259\n486\n1314\n519\nריבוע\nset-brush-shape \\\"square\\\"\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n1191\n486\n1246\n519\nעיגול\nset-brush-shape \\\"circle\\\"\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nTEXTBOX\n1217\n402\n1304\n420\nגודל מברשת\n14\n0\n1\n\nTEXTBOX\n1214\n463\n1298\n481\nצורת מברשת\n14\n0\n1\n\nTEXTBOX\n1186\n246\n1336\n264\nמה לצייר עם המברשת\n14\n0\n1\n\nTEXTBOX\n1402\n132\n1552\n152\nמעקב אחרי נמלים\n15\n0\n1\n\nTEXTBOX\n167\n591\n317\n611\nהגדרת צבעים\n15\n0\n1\n\nTEXTBOX\n315\n622\n363\n643\nמחסום\n14\n0\n1\n\nTEXTBOX\n182\n621\n260\n639\nפרומון אוכל\n14\n0\n1\n\nTEXTBOX\n70\n622\n220\n640\nפרומון קן\n14\n0\n1\n\nTEXTBOX\n1398\n281\n1539\n321\n*יש לצייר בעזרת המברשת על הנמלים שישאירו שביל איפה שהם הולכים\n11\n0\n1\n\nTEXTBOX\n1392\n370\n1542\n412\n*יש לצייר בעזרת המברשת על הנמלים על מנת לסמן אותם בעיגול\n11\n0\n1\n\nTEXTBOX\n1341\n118\n1356\n532\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\n11\n0\n1\n\nTEXTBOX\n1172\n524\n1345\n542\n-----------------------------------------------\n11\n0\n1\n\nTEXTBOX\n1173\n112\n1345\n130\n-------------------------------------------------------------\n11\n0\n1\n\nTEXTBOX\n1171\n117\n1186\n532\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\n11\n0\n1\n\nTEXTBOX\n1571\n117\n1586\n533\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\n11\n0\n1\n\nTEXTBOX\n1353\n117\n1368\n533\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\n11\n0\n1\n\nTEXTBOX\n1354\n112\n1575\n130\n----------------------------------------------------------------------\n11\n0\n1\n\nTEXTBOX\n1354\n525\n1575\n543\n-------------------------------------------------------------\n11\n0\n1\n\nTEXTBOX\n29\n706\n394\n724\n----------------------------------------------------------------------------------------------------\n11\n0\n1\n\nTEXTBOX\n30\n574\n396\n592\n---------------------------------------------------------------------------------------------------\n11\n0\n1\n\nTEXTBOX\n28\n578\n43\n716\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\n11\n0\n1\n\nTEXTBOX\n390\n579\n405\n716\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\n11\n0\n1\n\nTEXTBOX\n1405\n454\n1535\n482\n*כל הנמלים יפסיקו לסמן את השביל שלהם\n11\n0\n1\n\nTEXTBOX\n1279\n552\n1429\n570\nהגדרת פרומונים\n14\n0\n1\n\nTEXTBOX\n1365\n575\n1453\n593\nהצגת פרומונים\n12\n0\n1\n\nTEXTBOX\n1372\n654\n1472\n672\nנראות פרומונים\n12\n0\n1\n\nBUTTON\n1413\n598\n1468\n631\nהצג\nshow-pheromones\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n1353\n598\n1408\n631\nהסתר\nhide-pheromones\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n1255\n598\n1318\n631\nאוכל\ndisplay-food-pheromone\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n1183\n598\n1246\n631\nקן\ndisplay-nest-pheromone\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nTEXTBOX\n1203\n638\n1290\n668\nמציג פרומונים של קן מספר:\n12\n0\n1\n\nBUTTON\n1179\n676\n1243\n722\nהחלף קן\ndisplay-pheromones-of-another-nest\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nTEXTBOX\n1198\n576\n1348\n594\nהצג פרומונים מסוג\n12\n0\n1\n\nTEXTBOX\n1171\n538\n1518\n556\n---------------------------------------------------------------------------------------------------------------\n11\n0\n1\n\nTEXTBOX\n1171\n725\n1516\n744\n---------------------------------------------------------------------------------------------------------------\n11\n0\n1\n\nTEXTBOX\n1513\n543\n1528\n733\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\n11\n0\n1\n\nTEXTBOX\n1170\n543\n1185\n733\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\n11\n0\n1\n\nTEXTBOX\n1788\n492\n1938\n510\nNIL\n11\n0\n1\n\nTEXTBOX\n1173\n10\n1493\n28\n------------------------------------------------------------------------------------------------------------------------------------------------\n11\n0\n1\n\nTEXTBOX\n1173\n99\n1492\n117\n------------------------------------------------------------------------------------------------------------------------------------------------\n11\n0\n1\n\nTEXTBOX\n1490\n15\n1505\n107\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\n11\n0\n1\n\nTEXTBOX\n1171\n15\n1186\n107\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\\n|\n11\n0\n1\n\nBUTTON\n1263\n356\n1332\n389\nפרומון אוכל\nset-brush-type \\\"food-pheromone\\\"\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n1186\n356\n1255\n389\nפרומון קן\nset-brush-type \\\"nest-pheromone\\\"\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n0\n\nBUTTON\n811\n740\n878\n773\nשמור\nsave-world-to-file\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n1\n\nBUTTON\n723\n740\n788\n773\nפתח\nload-world-from-file\nNIL\n1\nT\nOBSERVER\nNIL\nNIL\nNIL\nNIL\n1\n@#$#@#$#@\n## WHAT IS IT?\n\nIn this project, a colony of ants forages for food. Though each ant follows a set of simple rules, the colony as a whole acts in a sophisticated way.\n\n## HOW IT WORKS\n\nWhen an ant finds a piece of food, it carries the food back to the nest, dropping a chemical as it moves. When other ants \"sniff\" the chemical, they follow the chemical toward the food. As more ants carry food to the nest, they reinforce the chemical trail.\n\n## HOW TO USE IT\n\nClick the SETUP button to set up the ant nest (in violet, at center) and three piles of food. Click the GO button to start the simulation. The chemical is shown in a green-to-white gradient.\n\nThe EVAPORATION-RATE slider controls the evaporation rate of the chemical. The DIFFUSION-RATE slider controls the diffusion rate of the chemical.\n\nIf you want to change the number of ants, move the POPULATION slider before pressing SETUP.\n\n## THINGS TO NOTICE\n\nThe ant colony generally exploits the food source in order, starting with the food closest to the nest, and finishing with the food most distant from the nest. It is more difficult for the ants to form a stable trail to the more distant food, since the chemical trail has more time to evaporate and diffuse before being reinforced.\n\nOnce the colony finishes collecting the closest food, the chemical trail to that food naturally disappears, freeing up ants to help collect the other food sources. The more distant food sources require a larger \"critical number\" of ants to form a stable trail.\n\nThe consumption of the food is shown in a plot.  The line colors in the plot match the colors of the food piles.\n\n## EXTENDING THE MODEL\n\nTry different placements for the food sources. What happens if two food sources are equidistant from the nest? When that happens in the real world, ant colonies typically exploit one source then the other (not at the same time).\n\nIn this project, the ants use a \"trick\" to find their way back to the nest: they follow the \"nest scent.\" Real ants use a variety of different approaches to find their way back to the nest. Try to implement some alternative strategies.\n\nThe ants only respond to chemical levels between 0.05 and 2.  The lower limit is used so the ants aren't infinitely sensitive.  Try removing the upper limit.  What happens?  Why?\n\nIn the `uphill-chemical` procedure, the ant \"follows the gradient\" of the chemical. That is, it \"sniffs\" in three directions, then turns in the direction where the chemical is strongest. You might want to try variants of the `uphill-chemical` procedure, changing the number and placement of \"ant sniffs.\"\n\n## NETLOGO FEATURES\n\nThe built-in `diffuse` primitive lets us diffuse the chemical easily without complicated code.\n\nThe primitive `patch-right-and-ahead` is used to make the ants smell in different directions without actually turning.\n\n## HOW TO CITE\n\nIf you mention this model or the NetLogo software in a publication, we ask that you include the citations below.\n\nFor the model itself:\n\n* Wilensky, U. (1997).  NetLogo Ants model.  http://ccl.northwestern.edu/netlogo/models/Ants.  Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL.\n\nPlease cite the NetLogo software as:\n\n* Wilensky, U. (1999). NetLogo. http://ccl.northwestern.edu/netlogo/. Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL.\n\n## COPYRIGHT AND LICENSE\n\nCopyright 1997 Uri Wilensky.\n\n![CC BY-NC-SA 3.0](http://ccl.northwestern.edu/images/creativecommons/byncsa.png)\n\nThis work is licensed under the Creative Commons Attribution-NonCommercial-ShareAlike 3.0 License.  To view a copy of this license, visit https://creativecommons.org/licenses/by-nc-sa/3.0/ or send a letter to Creative Commons, 559 Nathan Abbott Way, Stanford, California 94305, USA.\n\nCommercial licenses are also available. To inquire about commercial licenses, please contact Uri Wilensky at uri@northwestern.edu.\n\nThis model was created as part of the project: CONNECTED MATHEMATICS: MAKING SENSE OF COMPLEX PHENOMENA THROUGH BUILDING OBJECT-BASED PARALLEL MODELS (OBPML).  The project gratefully acknowledges the support of the National Science Foundation (Applications of Advanced Technologies Program) -- grant numbers RED #9552950 and REC #9632612.\n\nThis model was developed at the MIT Media Lab using CM StarLogo.  See Resnick, M. (1994) \"Turtles, Termites and Traffic Jams: Explorations in Massively Parallel Microworlds.\"  Cambridge, MA: MIT Press.  Adapted to StarLogoT, 1997, as part of the Connected Mathematics Project.\n\nThis model was converted to NetLogo as part of the projects: PARTICIPATORY SIMULATIONS: NETWORK-BASED DESIGN FOR SYSTEMS LEARNING IN CLASSROOMS and/or INTEGRATED SIMULATION AND MODELING ENVIRONMENT. The project gratefully acknowledges the support of the National Science Foundation (REPP & ROLE programs) -- grant numbers REC #9814682 and REC-0126227. Converted from StarLogoT to NetLogo, 1998.\n\n<!-- 1997 1998 MIT -->\n@#$#@#$#@\ndefault\ntrue\n0\nPolygon -7500403 true true 150 5 40 250 150 205 260 250\n\nairplane\ntrue\n0\nPolygon -7500403 true true 150 0 135 15 120 60 120 105 15 165 15 195 120 180 135 240 105 270 120 285 150 270 180 285 210 270 165 240 180 180 285 195 285 165 180 105 180 60 165 15\n\nant\ntrue\n0\nPolygon -7500403 true true 136 61 129 46 144 30 119 45 124 60 114 82 97 37 132 10 93 36 111 84 127 105 172 105 189 84 208 35 171 11 202 35 204 37 186 82 177 60 180 44 159 32 170 44 165 60\nPolygon -7500403 true true 150 95 135 103 139 117 125 149 137 180 135 196 150 204 166 195 161 180 174 150 158 116 164 102\nPolygon -7500403 true true 149 186 128 197 114 232 134 270 149 282 166 270 185 232 171 195 149 186\nPolygon -7500403 true true 225 66 230 107 159 122 161 127 234 111 236 106\nPolygon -7500403 true true 78 58 99 116 139 123 137 128 95 119\nPolygon -7500403 true true 48 103 90 147 129 147 130 151 86 151\nPolygon -7500403 true true 65 224 92 171 134 160 135 164 95 175\nPolygon -7500403 true true 235 222 210 170 163 162 161 166 208 174\nPolygon -7500403 true true 249 107 211 147 168 147 168 150 213 150\n\nant carrying food\ntrue\n0\nCircle -2674135 true false 96 182 108\nCircle -2674135 true false 110 127 80\nCircle -2674135 true false 110 75 80\nLine -2674135 false 150 100 80 30\nLine -2674135 false 150 100 220 30\nCircle -16777216 true false 123 3 85\nPolygon -16777216 true false 165 0 120 15 90 45 120 75 165 90 165 0\nPolygon -7500403 true true 165 15 165 15 105 45 150 75 165 75 195 60 195 45 195 30 165 15 150 15 105 45\nPolygon -7500403 true true 105 45 120 60 150 75 150 15 120 30 105 45\nPolygon -8630108 true false 195 30\nCircle -7500403 true true 135 15 60\n\nant carrying food 2\ntrue\n0\nCircle -2674135 true false 96 182 108\nCircle -2674135 true false 110 127 80\nCircle -2674135 true false 110 75 80\nLine -2674135 false 150 100 80 30\nLine -2674135 false 150 100 220 30\nCircle -16777216 true false 123 3 85\nPolygon -16777216 true false 165 0 120 15 90 45 120 75 165 90 165 0\nPolygon -7500403 true true 165 15 165 15 105 45 150 75 165 75 195 60 195 45 195 30 165 15 150 15 105 45\nPolygon -7500403 true true 105 45 120 60 150 75 150 15 120 30 105 45\nPolygon -8630108 true false 195 30\nCircle -7500403 true true 135 15 60\nRectangle -16777216 true false 90 0 210 120\nRectangle -7500403 true true 105 15 195 105\n\nant carrying food 3\ntrue\n0\nCircle -2674135 true false 96 182 108\nCircle -2674135 true false 110 127 80\nCircle -2674135 true false 110 75 80\nLine -2674135 false 150 100 80 30\nLine -2674135 false 150 100 220 30\nPolygon -8630108 true false 195 30\nRectangle -7500403 true true 105 15 195 105\nRectangle -16777216 false false 105 15 195 105\n\nant with food\ntrue\n0\nCircle -7500403 true true 96 182 108\nCircle -7500403 true true 110 127 80\nCircle -7500403 true true 110 75 80\nLine -7500403 true 150 100 80 30\nLine -7500403 true 150 100 220 30\nRectangle -11221820 true false 135 105 165 270\n\nant with food 3\ntrue\n0\nCircle -2674135 true false 96 182 108\nCircle -2674135 true false 110 127 80\nCircle -2674135 true false 110 75 80\nLine -2674135 false 150 100 80 30\nLine -2674135 false 150 100 220 30\nCircle -7500403 true true 123 3 85\nPolygon -7500403 true true 165 0 120 15 90 45 120 75 165 90 165 0\nPolygon -7500403 true true 165 15 165 15 105 45 150 75 165 75 195 60 195 45 195 30 165 15 150 15 105 45\nPolygon -7500403 true true 105 45 120 60 150 75 150 15 120 30 105 45\nPolygon -8630108 true false 195 30\nCircle -7500403 true true 135 15 60\n\nant with food 4\ntrue\n0\nCircle -2674135 true false 96 182 108\nCircle -2674135 true false 110 127 80\nCircle -2674135 true false 110 75 80\nLine -2674135 false 150 100 80 30\nLine -2674135 false 150 100 220 30\nRectangle -16777216 true false 120 90 180 285\nRectangle -7500403 true true 135 105 165 270\n\nant with food1\ntrue\n8\nCircle -2674135 true false 96 182 108\nCircle -2674135 true false 110 127 80\nCircle -2674135 true false 110 75 80\nLine -2674135 false 150 100 80 30\nLine -2674135 false 150 100 220 30\nRectangle -11221820 true true 135 105 165 270\n\nant-carrying-food-body-color-105\ntrue\n0\nCircle -13345367 true false 110 127 80\nCircle -13345367 true false 110 75 80\nCircle -13345367 true false 96 182 108\nCircle -16777216 true false 141 36 108\nPolygon -16777216 true false 195 30 150 30 90 60 60 90 90 120 150 150 195 150 225 135 240 90 225 45 195 30\nCircle -7500403 true true 150 45 90\nPolygon -7500403 true true 210 45 165 45 150 45 90 75 75 90 90 105 150 135 195 135 240 105 240 75 210 45\n\nant-carrying-food-body-color-115\ntrue\n0\nCircle -8630108 true false 110 127 80\nCircle -8630108 true false 110 75 80\nCircle -8630108 true false 96 182 108\nCircle -16777216 true false 141 36 108\nPolygon -16777216 true false 195 30 150 30 90 60 60 90 90 120 150 150 195 150 225 135 240 90 225 45 195 30\nCircle -7500403 true true 150 45 90\nPolygon -7500403 true true 210 45 165 45 150 45 90 75 75 90 90 105 150 135 195 135 240 105 240 75 210 45\n\nant-carrying-food-body-color-125\ntrue\n0\nCircle -5825686 true false 110 127 80\nCircle -5825686 true false 110 75 80\nCircle -5825686 true false 96 182 108\nCircle -16777216 true false 141 36 108\nPolygon -16777216 true false 195 30 150 30 90 60 60 90 90 120 150 150 195 150 225 135 240 90 225 45 195 30\nCircle -7500403 true true 150 45 90\nPolygon -7500403 true true 210 45 165 45 150 45 90 75 75 90 90 105 150 135 195 135 240 105 240 75 210 45\n\nant-carrying-food-body-color-135\ntrue\n0\nCircle -2064490 true false 110 127 80\nCircle -2064490 true false 110 75 80\nCircle -2064490 true false 96 182 108\nCircle -16777216 true false 141 36 108\nPolygon -16777216 true false 195 30 150 30 90 60 60 90 90 120 150 150 195 150 225 135 240 90 225 45 195 30\nCircle -7500403 true true 150 45 90\nPolygon -7500403 true true 210 45 165 45 150 45 90 75 75 90 90 105 150 135 195 135 240 105 240 75 210 45\n\nant-carrying-food-body-color-15\ntrue\n0\nCircle -2674135 true false 110 127 80\nCircle -2674135 true false 110 75 80\nCircle -2674135 true false 96 182 108\nCircle -16777216 true false 141 36 108\nPolygon -16777216 true false 195 30 150 30 90 60 60 90 90 120 150 150 195 150 225 135 240 90 225 45 195 30\nCircle -7500403 true true 150 45 90\nPolygon -7500403 true true 210 45 165 45 150 45 90 75 75 90 90 105 150 135 195 135 240 105 240 75 210 45\n\nant-carrying-food-body-color-25\ntrue\n0\nCircle -955883 true false 110 127 80\nCircle -955883 true false 110 75 80\nCircle -955883 true false 96 182 108\nCircle -16777216 true false 141 36 108\nPolygon -16777216 true false 195 30 150 30 90 60 60 90 90 120 150 150 195 150 225 135 240 90 225 45 195 30\nCircle -7500403 true true 150 45 90\nPolygon -7500403 true true 210 45 165 45 150 45 90 75 75 90 90 105 150 135 195 135 240 105 240 75 210 45\n\nant-carrying-food-body-color-35\ntrue\n0\nCircle -6459832 true false 110 127 80\nCircle -6459832 true false 110 75 80\nCircle -6459832 true false 96 182 108\nCircle -16777216 true false 141 36 108\nPolygon -16777216 true false 195 30 150 30 90 60 60 90 90 120 150 150 195 150 225 135 240 90 225 45 195 30\nCircle -7500403 true true 150 45 90\nPolygon -7500403 true true 210 45 165 45 150 45 90 75 75 90 90 105 150 135 195 135 240 105 240 75 210 45\n\nant-carrying-food-body-color-45\ntrue\n0\nCircle -1184463 true false 110 127 80\nCircle -1184463 true false 110 75 80\nCircle -1184463 true false 96 182 108\nCircle -16777216 true false 141 36 108\nPolygon -16777216 true false 195 30 150 30 90 60 60 90 90 120 150 150 195 150 225 135 240 90 225 45 195 30\nCircle -7500403 true true 150 45 90\nPolygon -7500403 true true 210 45 165 45 150 45 90 75 75 90 90 105 150 135 195 135 240 105 240 75 210 45\n\nant-carrying-food-body-color-5\ntrue\n0\nCircle -7500403 true false 110 127 80\nCircle -7500403 true false 110 75 80\nCircle -7500403 true false 96 182 108\nCircle -16777216 true false 141 36 108\nPolygon -16777216 true false 195 30 150 30 90 60 60 90 90 120 150 150 195 150 225 135 240 90 225 45 195 30\nCircle -7500403 true true 150 45 90\nPolygon -7500403 true true 210 45 165 45 150 45 90 75 75 90 90 105 150 135 195 135 240 105 240 75 210 45\n\nant-carrying-food-body-color-55\ntrue\n0\nCircle -10899396 true false 110 127 80\nCircle -10899396 true false 110 75 80\nCircle -10899396 true false 96 182 108\nCircle -16777216 true false 141 36 108\nPolygon -16777216 true false 195 30 150 30 90 60 60 90 90 120 150 150 195 150 225 135 240 90 225 45 195 30\nCircle -7500403 true true 150 45 90\nPolygon -7500403 true true 210 45 165 45 150 45 90 75 75 90 90 105 150 135 195 135 240 105 240 75 210 45\n\nant-carrying-food-body-color-65\ntrue\n0\nCircle -13840069 true false 110 127 80\nCircle -13840069 true false 110 75 80\nCircle -13840069 true false 96 182 108\nCircle -16777216 true false 141 36 108\nPolygon -16777216 true false 195 30 150 30 90 60 60 90 90 120 150 150 195 150 225 135 240 90 225 45 195 30\nCircle -7500403 true true 150 45 90\nPolygon -7500403 true true 210 45 165 45 150 45 90 75 75 90 90 105 150 135 195 135 240 105 240 75 210 45\n\nant-carrying-food-body-color-75\ntrue\n0\nCircle -14835848 true false 110 127 80\nCircle -14835848 true false 110 75 80\nCircle -14835848 true false 96 182 108\nCircle -16777216 true false 141 36 108\nPolygon -16777216 true false 195 30 150 30 90 60 60 90 90 120 150 150 195 150 225 135 240 90 225 45 195 30\nCircle -7500403 true true 150 45 90\nPolygon -7500403 true true 210 45 165 45 150 45 90 75 75 90 90 105 150 135 195 135 240 105 240 75 210 45\n\nant-carrying-food-body-color-85\ntrue\n0\nCircle -11221820 true false 110 127 80\nCircle -11221820 true false 110 75 80\nCircle -11221820 true false 96 182 108\nCircle -16777216 true false 141 36 108\nPolygon -16777216 true false 195 30 150 30 90 60 60 90 90 120 150 150 195 150 225 135 240 90 225 45 195 30\nCircle -7500403 true true 150 45 90\nPolygon -7500403 true true 210 45 165 45 150 45 90 75 75 90 90 105 150 135 195 135 240 105 240 75 210 45\n\nant-carrying-food-body-color-95\ntrue\n0\nCircle -13791810 true false 110 127 80\nCircle -13791810 true false 110 75 80\nCircle -13791810 true false 96 182 108\nCircle -16777216 true false 141 36 108\nPolygon -16777216 true false 195 30 150 30 90 60 60 90 90 120 150 150 195 150 225 135 240 90 225 45 195 30\nCircle -7500403 true true 150 45 90\nPolygon -7500403 true true 210 45 165 45 150 45 90 75 75 90 90 105 150 135 195 135 240 105 240 75 210 45\n\nant-carrying-food-seed\ntrue\n0\nCircle -2674135 true false 96 182 108\nCircle -2674135 true false 110 127 80\nCircle -2674135 true false 110 75 80\nLine -2674135 false 150 100 80 30\nLine -2674135 false 150 100 220 30\nCircle -16777216 true false 123 3 85\nPolygon -16777216 true false 165 0 105 15 75 45 105 75 165 90 165 0\nPolygon -7500403 true true 165 15 165 15 105 45 150 75 165 75 195 60 195 45 195 30 165 15 150 15 105 45\nPolygon -7500403 true true 90 45 105 60 150 75 150 15 105 30 105 30\nPolygon -8630108 true false 195 30\nCircle -7500403 true true 135 15 60\nPolygon -7500403 true true 105 30 135 15 150 15 180 15 195 30 195 60 180 75 150 75 135 75 105 60 120 30\n\nant-carrying-food-seed-2\ntrue\n0\nCircle -2674135 true false 110 127 80\nPolygon -16777216 true false 195 180 120 165 60 135 15 90 60 45 120 15 195 0 240 15 270 45 270 135 240 165 195 180\nCircle -16777216 true false 110 5 170\nCircle -2674135 true false 96 182 108\nCircle -2674135 true false 110 75 80\nPolygon -8630108 true false 195 30\nCircle -7500403 true true 120 15 150\nPolygon -7500403 true true 195 15 150 15 105 30 60 60 30 90 60 120 105 150 150 165 195 165 195 15\nPolygon -8630108 true false 195 0\nPolygon -8630108 true false 195 0 135 15\nPolygon -8630108 true false 210 0\n\nant-carrying-food-seed-3\ntrue\n0\nCircle -2674135 true false 110 127 80\nCircle -2674135 true false 96 182 108\nCircle -2674135 true false 110 75 80\nPolygon -8630108 true false 195 30\nCircle -16777216 true false 120 15 150\nPolygon -16777216 true false 195 15 150 15 105 30 60 60 30 90 60 120 105 150 150 165 195 165 195 15\nPolygon -8630108 true false 195 0\nPolygon -8630108 true false 195 0 135 15\nPolygon -8630108 true false 210 0\nCircle -7500403 true true 133 28 122\nPolygon -7500403 true true 195 30 150 30 105 45 60 75 45 90 75 120 105 135 150 150 195 150 195 45\n\nant-carrying-food-seed-4\ntrue\n0\nPolygon -8630108 true false 255 60 270 90 255 120 225 150 255 60\nCircle -2674135 true false 110 127 80\nCircle -2674135 true false 110 75 80\nPolygon -8630108 true false 225 30 180 15 150 15 120 30 90 45 90 45 45 90 90 135 120 150 150 165 180 165 225 150 255 60 225 30\nCircle -2674135 true false 96 182 108\nPolygon -8630108 true false 195 30\nPolygon -8630108 true false 195 0\nPolygon -8630108 true false 195 0 135 15\nPolygon -8630108 true false 210 0\nCircle -8630108 true false 133 28 122\nPolygon -13840069 true false 195 30\nPolygon -13840069 true false 195 45\nCircle -13840069 true false 141 36 108\nPolygon -13840069 true false 195 30 150 30 90 60 60 90 90 120 150 150 195 150 225 135 240 90 225 45 195 30\n\nant-carrying-food-seed-5\ntrue\n0\nCircle -2674135 true false 110 127 80\nCircle -2674135 true false 110 75 80\nCircle -2674135 true false 96 182 108\nPolygon -8630108 true false 195 30\nPolygon -8630108 true false 195 0\nPolygon -8630108 true false 195 0 135 15\nPolygon -8630108 true false 210 0\nPolygon -13840069 true false 195 30\nPolygon -13840069 true false 195 45\nCircle -16777216 true false 141 36 108\nPolygon -16777216 true false 195 30 150 30 90 60 60 90 90 120 150 150 195 150 225 135 240 90 225 45 195 30\nCircle -7500403 true true 150 45 90\nPolygon -7500403 true true 210 45 165 45 150 45 90 75 75 90 90 105 150 135 195 135 240 105 240 75 210 45\n\nant-carrying-food-square\ntrue\n0\nCircle -2674135 true false 96 182 108\nCircle -2674135 true false 110 127 80\nCircle -2674135 true false 110 75 80\nLine -2674135 false 150 100 80 30\nLine -2674135 false 150 100 220 30\nPolygon -8630108 true false 195 30\nRectangle -7500403 true true 90 15 210 135\nRectangle -16777216 false false 90 15 210 135\n\nant-carrying-food-square-1\ntrue\n0\nLine -16777216 false 75 30 135 90\nLine -16777216 false 75 30 165 105\nCircle -16777216 true false 103 73 92\nCircle -16777216 true false 90 180 120\nCircle -16777216 true false 103 118 92\nCircle -2674135 true false 96 182 108\nCircle -2674135 true false 110 75 80\nLine -2674135 false 150 100 75 30\nLine -2674135 false 150 100 225 30\nPolygon -8630108 true false 195 30\nCircle -2674135 true false 110 127 80\nRectangle -16777216 false false 90 15 210 135\nRectangle -7500403 true true 90 15 210 135\n\narrow\ntrue\n0\nPolygon -7500403 true true 150 0 0 150 105 150 105 293 195 293 195 150 300 150\n\nbox\nfalse\n0\nPolygon -7500403 true true 150 285 285 225 285 75 150 135\nPolygon -7500403 true true 150 135 15 75 150 15 285 75\nPolygon -7500403 true true 15 75 15 225 150 285 150 135\nLine -16777216 false 150 285 150 135\nLine -16777216 false 150 135 15 75\nLine -16777216 false 150 135 285 75\n\nbrush-cursor-draw\nfalse\n6\nPolygon -1184463 true false 75 210 210 60 225 60 255 90 255 105 120 255 75 210\nPolygon -2674135 true false 75 210 45 285 120 255 60 240\nLine -16777216 false 255 90 255 90\nLine -16777216 false 255 90 105 255\nLine -16777216 false 225 60 60 240\nLine -16777216 false 255 105 120 255\nLine -16777216 false 210 60 75 210\nLine -16777216 false 210 60 225 60\nLine -16777216 false 225 60 255 90\nLine -16777216 false 255 90 255 105\nPolygon -2674135 true false 120 255 75 210 60 240 90 270 120 255\nLine -16777216 false 75 210 120 255\nLine -16777216 false 75 210 60 240\nLine -16777216 false 90 270 120 255\n\nbrush-cursor-draw2\nfalse\n7\nPolygon -13345367 true false 195 45 225 15 255 15 285 45 285 45 285 75 255 105 255 75 225 45 195 45\nPolygon -16777216 false false 195 45 225 15 255 15 285 45 285 75 255 105 255 75 225 45 195 45\nPolygon -1184463 true false 195 45 225 45 255 75 255 105 75 270 75 240 45 210 45 210 15 210 195 45\nPolygon -16777216 false false 15 210 195 45 225 45 255 75 255 105 75 270 75 240 45 210 15 210\nLine -16777216 false 225 45 45 210\nLine -16777216 false 255 75 75 240\nPolygon -2674135 true false 45 195 15 270\nPolygon -2674135 true false 15 210 0 285 75 270 75 240 45 210 15 210\nPolygon -16777216 false false 15 210 0 285 75 270 75 240 45 210 15 210\nLine -16777216 false 225 45 255 15\nLine -16777216 false 255 75 285 45\n\nbrush-cursor-draw3\nfalse\n7\nPolygon -1184463 true false 225 15 255 15 285 45 285 75 105 240 105 210 75 180 75 180 45 180 225 15\nPolygon -16777216 false false 45 180 225 15 255 15 285 45 285 75 105 240 105 210 75 180 45 180\nLine -16777216 false 255 15 75 180\nLine -16777216 false 285 45 105 210\nPolygon -2674135 true false 45 195 15 270\nPolygon -2674135 true false 45 180 15 270 105 240 105 210 75 180 45 180\nPolygon -16777216 false false 45 180 15 270 105 240 105 210 75 180 45 180\n\nbrush-cursor-draw4\nfalse\n7\nPolygon -1184463 true false 225 15 255 15 285 45 285 75 105 240 105 210 75 180 75 180 45 180 225 15\nPolygon -16777216 false false 45 180 225 15 255 15 285 45 285 75 105 240 105 210 75 180 45 180\nLine -16777216 false 255 15 75 180\nLine -16777216 false 285 45 105 210\nPolygon -2674135 true false 45 195 15 270\nPolygon -2674135 true false 45 180 30 255 105 240 105 210 75 180 45 180\nPolygon -16777216 false false 45 180 30 255 105 240 105 210 75 180 45 180\n\nbrush-cursor-draw5\nfalse\n7\nPolygon -1184463 true false 225 15 255 15 285 45 285 75 90 255 90 225 60 195 60 195 30 195 225 15\nPolygon -16777216 false false 30 195 225 15 255 15 285 45 285 75 90 255 90 225 60 195 30 195\nLine -16777216 false 255 15 60 195\nLine -16777216 false 285 45 90 225\nPolygon -2674135 true false 45 195 15 270\nPolygon -2674135 true false 30 195 15 270 90 255 90 225 60 195 30 195\nPolygon -16777216 false false 30 195 15 270 90 255 90 225 60 195 30 195\n\nbrush-cursor-draw6\nfalse\n7\nPolygon -1184463 true false 195 45 225 45 255 75 255 105 75 270 75 240 45 210 45 210 15 210 195 45\nPolygon -16777216 false false 15 210 195 45 225 45 255 75 255 105 75 270 75 240 45 210 15 210\nLine -16777216 false 225 45 45 210\nLine -16777216 false 255 75 75 240\nPolygon -2674135 true false 45 195 15 270\nPolygon -2674135 true false 15 210 0 285 75 270 75 240 45 210 15 210\nPolygon -16777216 false false 15 210 0 285 75 270 75 240 45 210 15 210\n\nbrush-cursor-erase\nfalse\n0\nPolygon -16777216 false false 75 195\nPolygon -2064490 true false 30 270 135 270 240 165 225 120 135 120 45 195 30 270\nLine -16777216 false 30 270 135 270\nLine -16777216 false 135 195 135 270\nLine -16777216 false 135 270 240 165\nLine -16777216 false 240 165 225 120\nLine -16777216 false 135 195 225 120\nLine -16777216 false 45 195 135 195\nLine -16777216 false 45 195 30 270\nLine -16777216 false 45 195 135 120\nLine -16777216 false 135 120 225 120\n\nbrush-mode-icon-draw\nfalse\n6\nRectangle -7500403 true false 0 0 300 300\nPolygon -1184463 true false 75 105 225 255 240 255 255 240 255 225 105 75 90 105\nPolygon -16777216 false false 75 105 90 105 105 90 105 75 255 225 255 240 105 90 90 105 240 255 255 240 240 255 225 255 75 105\nPolygon -2674135 true false 105 75 60 60 75 105 90 105 105 90 105 75\nPolygon -2674135 true false 75 60 90 30 120 0 135 0 105 30 90 60 75 60\nPolygon -2674135 true false 90 60 105 60 120 30 150 0 120 0\nRectangle -16777216 false false 0 0 300 300\nLine -16777216 false 105 75 60 60\nLine -16777216 false 75 105 60 60\n\nbrush-mode-icon-draw2\nfalse\n7\nRectangle -7500403 true false 0 0 300 300\nPolygon -1184463 true false 210 30 240 30 270 60 270 90 90 255 90 225 60 195 60 195 30 195 210 30\nPolygon -16777216 false false 30 195 210 30 240 30 270 60 270 90 90 255 90 225 60 195 30 195\nLine -16777216 false 240 30 60 195\nLine -16777216 false 270 60 90 225\nPolygon -2674135 true false 45 195 15 270\nPolygon -2674135 true false 30 195 15 270 90 255 90 225 60 195 30 195\nPolygon -16777216 false false 30 195 15 270 90 255 90 225 60 195 30 195\nRectangle -16777216 false false 0 0 300 300\n\nbrush-mode-icon-erase\nfalse\n6\nRectangle -7500403 true false 0 0 300 300\nPolygon -16777216 false false 75 195\nPolygon -2064490 true false 45 225 150 225 255 120 240 75 150 75 60 150 45 225\nLine -16777216 false 45 225 150 225\nLine -16777216 false 150 150 150 225\nLine -16777216 false 150 225 255 120\nLine -16777216 false 255 120 240 75\nLine -16777216 false 150 150 240 75\nLine -16777216 false 60 150 150 150\nLine -16777216 false 60 150 45 225\nLine -16777216 false 60 150 150 75\nLine -16777216 false 150 75 240 75\nRectangle -16777216 false false 0 0 300 300\n\nbrush-type-icon-ant\nfalse\n6\nRectangle -7500403 true false 0 0 300 300\nRectangle -16777216 false false -2 0 298 300\nLine -13840069 true 139 87 97 35\nLine -13840069 true 155 91 206 32\nLine -16777216 false 130 78 94 33\nLine -16777216 false 134 76 92 29\nLine -16777216 false 167 75 206 30\nLine -16777216 false 171 77 207 31\nCircle -16777216 true false 111 115 78\nCircle -16777216 true false 100 168 100\nCircle -16777216 true false 111 65 78\nCircle -13840069 true true 114 68 72\nCircle -13840069 true true 113 116 74\nCircle -13840069 true true 103 171 94\n\nbrush-type-icon-barrier\nfalse\n6\nRectangle -1 true false 0 0 300 300\nRectangle -13840069 true true 15 225 150 285\nRectangle -13840069 true true 165 225 300 285\nRectangle -13840069 true true 75 150 210 210\nRectangle -13840069 true true 0 150 60 210\nRectangle -13840069 true true 225 150 300 210\nRectangle -13840069 true true 166 75 301 135\nRectangle -13840069 true true 15 75 150 135\nRectangle -13840069 true true 0 0 60 60\nRectangle -13840069 true true 225 0 300 60\nRectangle -13840069 true true 75 0 210 60\nPolygon -6459832 true false 123 155 207 261 221 265 234 251 235 238 147 136 123 155\nPolygon -7500403 true false 140 147 155 133 149 116 150 109 154 104 168 97 190 91 179 78 154 82 127 93 101 111 88 122 92 129 93 131 91 135 87 136 83 134 78 129 59 145 57 157 78 181 88 187 109 168 104 161 103 154 105 155 105 152 105 152 112 155 116 161\nPolygon -16777216 false false 178 79 188 90 152 104 149 108 149 117 155 133 147 139 130 152 115 161 111 154 104 153 102 156 108 167 88 187 78 181 56 155 59 146 76 129 85 137 89 139 92 131 88 122 129 91 156 82 176 78\nPolygon -16777216 false false 150 138 234 238 234 252 220 263 206 260 125 157\nRectangle -16777216 false false 0 0 300 300\n\nbrush-type-icon-barrier-empty\nfalse\n6\nRectangle -1 true false 0 0 300 300\nRectangle -13840069 true true 15 225 150 285\nRectangle -13840069 true true 165 225 300 285\nRectangle -13840069 true true 75 150 210 210\nRectangle -13840069 true true 0 150 60 210\nRectangle -13840069 true true 225 150 300 210\nRectangle -13840069 true true 165 75 300 135\nRectangle -13840069 true true 15 75 150 135\nRectangle -13840069 true true 0 0 60 60\nRectangle -13840069 true true 225 0 300 60\nRectangle -13840069 true true 75 0 210 60\nRectangle -16777216 false false 0 0 300 300\n\nbrush-type-icon-food\nfalse\n6\nRectangle -7500403 true false 0 0 300 300\nPolygon -16777216 true false 170 183 177 150 192 124 218 99 243 124 258 151 264 185\nCircle -16777216 true false 169 135 94\nPolygon -16777216 true false 32 181 39 148 54 122 80 97 105 122 120 149 126 183\nCircle -16777216 true false 32 137 94\nPolygon -2674135 true false 37 180 45 146 58 123 80 103 100 123 112 145 121 180\nPolygon -6459832 true false 176 182 184 148 197 125 219 105 239 125 251 147 260 182\nCircle -2674135 true false 36 141 86\nCircle -6459832 true false 173 139 86\nPolygon -7500403 true false 120 240\nCircle -16777216 true false 101 80 94\nPolygon -16777216 true false 101 119 108 86 123 60 149 35 174 60 189 87 195 121\nCircle -955883 true false 105 83 86\nPolygon -955883 true false 106 118 114 84 127 61 149 41 169 61 181 83 190 118\nRectangle -16777216 false false 0 0 300 300\n\nbrush-type-icon-food-pheromone\nfalse\n15\nRectangle -7500403 true false 0 0 300 300\nPolygon -16777216 true false 247 68 238 54 229 29 231 3 259 5 281 17 296 34\nCircle -16777216 true false 241 21 60\nPolygon -10899396 true false 219 40 247 89 60 300 0 300 0 240\nPolygon -13840069 true false 223 42 244 88 117 225 88 168\nCircle -13840069 true false 120 135 0\nPolygon -13840069 true false 91 163 137 207 41 303 0 301 0 256\nCircle -16777216 true false 47 189 66\nCircle -16777216 true false 86 162 50\nCircle -2674135 true false 50 192 60\nCircle -16777216 true false 184 72 60\nPolygon -16777216 true false 187 116 178 102 169 77 171 51 199 53 221 65 236 82\nCircle -955883 true false 189 76 52\nPolygon -955883 true false 194 117 182 101 173 79 174 55 198 57 219 69 234 87 220 104\nLine -2674135 false 136 151 143 116\nLine -2674135 false 147 160 183 152\nLine -16777216 false 138 149 144 113\nLine -16777216 false 133 151 143 115\nLine -16777216 false 144 157 185 152\nLine -16777216 false 144 162 185 153\nCircle -16777216 true false 114 139 46\nCircle -2674135 true false 115 141 42\nCircle -2674135 true false 88 164 46\nCircle -955883 true false 245 25 52\nPolygon -955883 true false 254 68 242 52 233 30 234 6 258 8 279 20 294 38 280 55\nPolygon -16777216 true false 193 65 184 51 175 26 177 0 205 2 227 14 242 31\nCircle -16777216 true false 184 13 60\nCircle -16777216 true false 236 68 60\nCircle -955883 true false 188 16 52\nPolygon -16777216 true false 241 114 232 100 223 75 225 49 253 51 275 63 290 80\nPolygon -955883 true false 249 115 237 99 228 77 229 53 253 55 274 67 289 85 275 102\nCircle -955883 true false 240 71 52\nPolygon -955883 true false 200 65 188 49 179 27 180 3 204 5 225 17 240 35 226 52\nRectangle -16777216 false false 0 0 300 300\n\nbrush-type-icon-food-pheromone3\nfalse\n15\nRectangle -7500403 true false 1 0 303 300\nPolygon -10899396 true false 219 40 247 89 60 300 0 300 0 240\nPolygon -13840069 true false 223 42 244 88 117 225 88 168\nCircle -13840069 true false 120 135 0\nPolygon -13840069 true false 91 163 137 207 41 303 0 301 0 256\nCircle -16777216 true false 77 156 66\nCircle -16777216 true false 118 132 50\nCircle -2674135 true false 80 159 60\nCircle -16777216 true false 226 37 60\nPolygon -16777216 true false 233 85 224 71 215 46 217 20 245 22 267 34 282 51\nCircle -955883 true false 231 41 52\nPolygon -955883 true false 240 86 228 70 219 48 220 24 244 26 265 38 280 56 266 73\nLine -2674135 false 169 115 176 80\nLine -2674135 false 182 131 218 123\nLine -16777216 false 171 114 177 78\nLine -16777216 false 167 114 177 78\nLine -16777216 false 182 128 223 123\nLine -16777216 false 182 133 223 124\nCircle -16777216 true false 145 110 46\nCircle -2674135 true false 147 112 42\nCircle -2674135 true false 120 134 46\nRectangle -16777216 false false 0 0 300 300\n\nbrush-type-icon-food3\nfalse\n6\nRectangle -7500403 true false 0 0 300 300\nCircle -16777216 true false 95 75 110\nCircle -16777216 true false 72 104 156\nPolygon -16777216 true false 221 149 195 101 106 99 80 148\nPolygon -16777216 true false 195 105 180 75 165 60 135 60 120 75 105 105 180 90\nCircle -16777216 true false 135 45 30\nCircle -13840069 true true 90 135 120\nPolygon -13840069 true true 120 240 90 210 90 195 90 180 90 150 105 120 120 90 135 75 150 60 165 75 180 90 195 120 210 150 210 165 210 195 210 210 180 240\nPolygon -7500403 true false 120 240\nCircle -13840069 true true 90 120 120\nRectangle -16777216 false false 0 0 300 300\n\nbrush-type-icon-mark\nfalse\n6\nRectangle -7500403 true false 0 0 300 300\nCircle -1184463 false false 21 21 258\nCircle -13840069 true true 105 165 90\nCircle -13840069 true true 118 118 62\nCircle -13840069 true true 118 73 62\nLine -13840069 true 135 90 105 45\nLine -13840069 true 195 45 165 90\nRectangle -16777216 false false 0 0 300 300\n\nbrush-type-icon-nest\nfalse\n0\nRectangle -6459832 true false 0 0 300 300\nPolygon -7500403 true true 0 240 45 195 75 180 90 165 90 135 45 120 0 135\nPolygon -7500403 true true 300 240 285 210 270 180 270 150 300 135 300 225\nPolygon -7500403 true true 225 300 240 270 270 255 285 255 300 285 300 300\nPolygon -7500403 true true 0 285 30 300 0 300\nPolygon -7500403 true true 225 0 210 15 210 30 255 60 285 45 300 30 300 0\nPolygon -7500403 true true 0 30 30 0 0 0\nPolygon -7500403 true true 15 30 75 0 180 0 195 30 225 60 210 90 135 60 45 60\nPolygon -7500403 true true 0 105 30 105 75 120 105 105 90 75 45 75 0 60\nPolygon -7500403 true true 300 60 240 75 255 105 285 120 300 105\nPolygon -7500403 true true 120 75 120 105 105 135 105 165 165 150 240 150 255 135 240 105 210 105 180 90 150 75\nPolygon -7500403 true true 75 300 135 285 195 300\nPolygon -7500403 true true 30 285 75 285 120 270 150 270 150 210 90 195 60 210 15 255\nPolygon -7500403 true true 180 285 240 255 255 225 255 195 240 165 195 165 150 165 135 195 165 210 165 255\nRectangle -16777216 false false 0 0 300 300\nLine -955883 false 250 76 279 74\nCircle -16777216 true false 135 98 66\nCircle -16777216 true false 203 54 46\nCircle -16777216 true false 173 77 50\nCircle -955883 true false 175 79 46\nLine -16777216 false 231 58 242 26\nLine -16777216 false 234 60 244 26\nLine -16777216 false 248 78 281 75\nLine -16777216 false 248 74 282 74\nCircle -955883 true false 138 101 60\nLine -955883 false 233 58 243 27\nCircle -955883 true false 205 56 42\nCircle -7500403 true true 35 146 130\nCircle -6459832 true false 43 154 112\nCircle -16777216 true false 58 168 84\nRectangle -16777216 true false 92 77 99 188\nPolygon -13345367 true false 91 77 39 107 91 130 91 77\n\nbrush-type-icon-nest-empty\nfalse\n0\nRectangle -6459832 true false 0 0 300 300\nPolygon -7500403 true true 0 240 45 195 75 180 90 165 90 135 45 120 0 135\nPolygon -7500403 true true 300 240 285 210 270 180 270 150 300 135 300 225\nPolygon -7500403 true true 225 300 240 270 270 255 285 255 300 285 300 300\nPolygon -7500403 true true 0 285 30 300 0 300\nPolygon -7500403 true true 225 0 210 15 210 30 255 60 285 45 300 30 300 0\nPolygon -7500403 true true 0 30 30 0 0 0\nPolygon -7500403 true true 15 30 75 0 180 0 195 30 225 60 210 90 135 60 45 60\nPolygon -7500403 true true 0 105 30 105 75 120 105 105 90 75 45 75 0 60\nPolygon -7500403 true true 300 60 240 75 255 105 285 120 300 105\nPolygon -7500403 true true 120 75 120 105 105 135 105 165 165 150 240 150 255 135 240 105 210 105 180 90 150 75\nPolygon -7500403 true true 75 300 135 285 195 300\nPolygon -7500403 true true 30 285 75 285 120 270 150 270 150 210 90 195 60 210 15 255\nPolygon -7500403 true true 180 285 240 255 255 225 255 195 240 165 195 165 150 165 135 195 165 210 165 255\nRectangle -16777216 false false 0 0 300 300\n\nbrush-type-icon-nest-pheromone\nfalse\n6\nRectangle -7500403 true false 0 0 315 301\nRectangle -16777216 false false 0 -1 300 300\nLine -13840069 true 258 72 287 70\nLine -16777216 false 237 51 248 19\nLine -16777216 false 241 52 250 18\nLine -16777216 false 256 74 290 71\nLine -16777216 false 254 69 289 70\nLine -13840069 true 238 53 248 22\nPolygon -8630108 true false 47 208 161 98 205 146 95 248\nCircle -16777216 true false 146 94 66\nCircle -16777216 true false 185 73 50\nCircle -13840069 true true 149 97 60\nCircle -8630108 true false 16 165 116\nCircle -8630108 true false 28 176 94\nCircle -16777216 true false 35 183 80\nRectangle -16777216 true false 68 107 75 218\nPolygon -13345367 true false 65 106 13 136 65 159 65 106\nCircle -16777216 true false 213 48 46\nCircle -13840069 true true 187 75 46\nCircle -13840069 true true 215 50 42\n\nbrush-type-icon-nest-pheromone2\nfalse\n0\nRectangle -6459832 true false 0 0 300 300\nPolygon -7500403 true true 0 240 45 195 75 180 90 165 90 135 45 120 0 135\nPolygon -7500403 true true 300 240 285 210 270 180 270 150 300 135 300 225\nPolygon -7500403 true true 225 300 240 270 270 255 285 255 300 285 300 300\nPolygon -7500403 true true 0 285 30 300 0 300\nPolygon -7500403 true true 225 0 210 15 210 30 255 60 285 45 300 30 300 0\nPolygon -7500403 true true 0 30 30 0 0 0\nPolygon -7500403 true true 15 30 75 0 180 0 195 30 225 60 210 90 135 60 45 60\nPolygon -7500403 true true 0 105 30 105 75 120 105 105 90 75 45 75 0 60\nPolygon -7500403 true true 300 60 240 75 255 105 285 120 300 105\nPolygon -7500403 true true 120 75 120 105 105 135 105 165 165 150 240 150 255 135 240 105 210 105 180 90 150 75\nPolygon -7500403 true true 75 300 135 285 195 300\nPolygon -7500403 true true 30 285 75 285 120 270 150 270 150 210 90 195 60 210 15 255\nPolygon -7500403 true true 180 285 240 255 255 225 255 195 240 165 195 165 150 165 135 195 165 210 165 255\nRectangle -16777216 false false 0 -1 300 299\nLine -955883 false 258 66 287 64\nLine -16777216 false 246 48 257 16\nLine -16777216 false 249 50 258 16\nLine -16777216 false 257 67 290 64\nLine -16777216 false 256 63 290 63\nLine -955883 false 247 50 257 19\nPolygon -8630108 true false 48 206 169 90 216 138 96 246\nCircle -16777216 true false 154 86 66\nCircle -16777216 true false 193 66 50\nCircle -955883 true false 157 89 60\nCircle -8630108 true false 16 165 116\nCircle -6459832 true false 27 176 94\nCircle -16777216 true false 34 183 80\nRectangle -16777216 true false 68 107 75 218\nPolygon -13345367 true false 65 106 13 136 65 159 65 106\nCircle -16777216 true false 221 45 46\nCircle -955883 true false 195 68 46\nCircle -955883 true false 223 47 42\n\nbrush-type-icon-nest2\nfalse\n0\nRectangle -6459832 true false 0 0 300 300\nPolygon -7500403 true true 0 240 45 195 75 180 90 165 90 135 45 120 0 135\nPolygon -7500403 true true 300 240 285 210 270 180 270 150 300 135 300 225\nPolygon -7500403 true true 225 300 240 270 270 255 285 255 300 285 300 300\nPolygon -7500403 true true 0 285 30 300 0 300\nPolygon -7500403 true true 225 0 210 15 210 30 255 60 285 45 300 30 300 0\nPolygon -7500403 true true 0 30 30 0 0 0\nPolygon -7500403 true true 15 30 75 0 180 0 195 30 225 60 210 90 135 60 45 60\nPolygon -7500403 true true 0 105 30 105 75 120 105 105 90 75 45 75 0 60\nPolygon -7500403 true true 300 60 240 75 255 105 285 120 300 105\nPolygon -7500403 true true 120 75 120 105 105 135 105 165 165 150 240 150 255 135 240 105 210 105 180 90 150 75\nPolygon -7500403 true true 75 300 135 285 195 300\nPolygon -7500403 true true 30 285 75 285 120 270 150 270 150 210 90 195 60 210 15 255\nPolygon -7500403 true true 180 285 240 255 255 225 255 195 240 165 195 165 150 165 135 195 165 210 165 255\nRectangle -16777216 false false 0 0 302 301\nCircle -16777216 true false 190 28 66\nCircle -16777216 true false 148 91 52\nCircle -16777216 true false 172 65 50\nCircle -13791810 true false 174 67 46\nCircle -13791810 true false 193 31 60\nCircle -13791810 true false 150 93 48\nCircle -7500403 true true 37 145 128\nLine -13791810 false 174 138 172 176\nLine -13791810 false 154 121 110 128\nLine -16777216 false 173 180 176 140\nLine -16777216 false 172 182 172 142\nLine -16777216 false 108 129 151 124\nLine -16777216 false 107 128 149 120\nCircle -6459832 true false 44 152 114\nCircle -16777216 true false 52 161 98\n\nbrush-type-icon-trail\nfalse\n6\nRectangle -7500403 true false 0 0 300 300\nCircle -13840069 true true 58 58 62\nCircle -13840069 true true 88 88 62\nCircle -13840069 true true 108 108 85\nLine -13840069 true 60 75 15 75\nLine -13840069 true 75 75 60 15\nLine -2674135 false 180 180 195 240\nLine -2674135 false 195 240 240 180\nLine -2674135 false 240 180 270 270\nPolygon -2674135 true false 270 270 255 255 270 240 270 270\nRectangle -16777216 false false 0 0 300 300\n\nbrush-type-icon-trail2\nfalse\n6\nRectangle -7500403 true false 0 0 300 300\nCircle -13840069 true true 58 58 62\nCircle -13840069 true true 88 88 62\nCircle -13840069 true true 108 108 85\nLine -13840069 true 60 75 15 75\nLine -13840069 true 75 75 60 15\nLine -2674135 false 180 180 195 240\nLine -2674135 false 195 240 240 180\nLine -2674135 false 240 180 270 270\nPolygon -2674135 true false 270 270 255 255 270 240 270 270\nRectangle -16777216 false false 0 0 300 300\nPolygon -2674135 true false 270 270 240 240 270 225 270 270\n\nbug\ntrue\n0\nCircle -7500403 true true 96 182 108\nCircle -7500403 true true 110 127 80\nCircle -7500403 true true 110 75 80\nLine -7500403 true 150 100 80 30\nLine -7500403 true 150 100 220 30\n\nbug new\ntrue\n0\nCircle -7500403 true true 105 165 90\nCircle -7500403 true true 118 118 62\nCircle -7500403 true true 118 73 62\nLine -7500403 true 135 90 105 45\nLine -7500403 true 195 45 165 90\n\nbug new 2\ntrue\n0\nCircle -7500403 true true 105 165 90\nCircle -7500403 true true 118 118 62\nCircle -7500403 true true 118 73 62\n\nbug new 3\ntrue\n0\nCircle -7500403 true true 105 165 90\nCircle -7500403 true true 118 118 62\n\nbug2\ntrue\n0\nCircle -16777216 true false 105 75 88\nCircle -16777216 true false 105 120 90\nCircle -16777216 true false 90 180 120\nLine -16777216 false 75 30 180 120\nLine -16777216 false 75 30 180 135\nLine -16777216 false 225 30 120 120\nLine -16777216 false 225 30 120 135\nCircle -7500403 true true 96 182 108\nCircle -7500403 true true 110 127 80\nCircle -7500403 true true 110 75 80\nLine -7500403 true 150 100 75 30\nLine -7500403 true 150 100 225 30\n\nbutterfly\ntrue\n0\nPolygon -7500403 true true 150 165 209 199 225 225 225 255 195 270 165 255 150 240\nPolygon -7500403 true true 150 165 89 198 75 225 75 255 105 270 135 255 150 240\nPolygon -7500403 true true 139 148 100 105 55 90 25 90 10 105 10 135 25 180 40 195 85 194 139 163\nPolygon -7500403 true true 162 150 200 105 245 90 275 90 290 105 290 135 275 180 260 195 215 195 162 165\nPolygon -16777216 true false 150 255 135 225 120 150 135 120 150 105 165 120 180 150 165 225\nCircle -16777216 true false 135 90 30\nLine -16777216 false 150 105 195 60\nLine -16777216 false 150 105 105 60\n\ncar\nfalse\n0\nPolygon -7500403 true true 300 180 279 164 261 144 240 135 226 132 213 106 203 84 185 63 159 50 135 50 75 60 0 150 0 165 0 225 300 225 300 180\nCircle -16777216 true false 180 180 90\nCircle -16777216 true false 30 180 90\nPolygon -16777216 true false 162 80 132 78 134 135 209 135 194 105 189 96 180 89\nCircle -7500403 true true 47 195 58\nCircle -7500403 true true 195 195 58\n\ncat\nfalse\n0\nLine -7500403 true 285 240 210 240\nLine -7500403 true 195 300 165 255\nLine -7500403 true 15 240 90 240\nLine -7500403 true 285 285 195 240\nLine -7500403 true 105 300 135 255\nLine -16777216 false 150 270 150 285\nLine -16777216 false 15 75 15 120\nPolygon -7500403 true true 300 15 285 30 255 30 225 75 195 60 255 15\nPolygon -7500403 true true 285 135 210 135 180 150 180 45 285 90\nPolygon -7500403 true true 120 45 120 210 180 210 180 45\nPolygon -7500403 true true 180 195 165 300 240 285 255 225 285 195\nPolygon -7500403 true true 180 225 195 285 165 300 150 300 150 255 165 225\nPolygon -7500403 true true 195 195 195 165 225 150 255 135 285 135 285 195\nPolygon -7500403 true true 15 135 90 135 120 150 120 45 15 90\nPolygon -7500403 true true 120 195 135 300 60 285 45 225 15 195\nPolygon -7500403 true true 120 225 105 285 135 300 150 300 150 255 135 225\nPolygon -7500403 true true 105 195 105 165 75 150 45 135 15 135 15 195\nPolygon -7500403 true true 285 120 270 90 285 15 300 15\nLine -7500403 true 15 285 105 240\nPolygon -7500403 true true 15 120 30 90 15 15 0 15\nPolygon -7500403 true true 0 15 15 30 45 30 75 75 105 60 45 15\nLine -16777216 false 164 262 209 262\nLine -16777216 false 223 231 208 261\nLine -16777216 false 136 262 91 262\nLine -16777216 false 77 231 92 261\n\ncircle\nfalse\n0\nCircle -7500403 true true 0 0 300\n\ncircle 2\nfalse\n0\nCircle -7500403 true true 0 0 300\nCircle -16777216 true false 30 30 240\n\ncircle outline\ntrue\n0\nCircle -7500403 false true 0 0 300\n\ncow\nfalse\n0\nPolygon -7500403 true true 200 193 197 249 179 249 177 196 166 187 140 189 93 191 78 179 72 211 49 209 48 181 37 149 25 120 25 89 45 72 103 84 179 75 198 76 252 64 272 81 293 103 285 121 255 121 242 118 224 167\nPolygon -7500403 true true 73 210 86 251 62 249 48 208\nPolygon -7500403 true true 25 114 16 195 9 204 23 213 25 200 39 123\n\ncylinder\nfalse\n0\nCircle -7500403 true true 0 0 300\n\ndot\nfalse\n0\nCircle -7500403 true true 90 90 120\n\nempty\nfalse\n0\n\nface happy\nfalse\n0\nCircle -7500403 true true 8 8 285\nCircle -16777216 true false 60 75 60\nCircle -16777216 true false 180 75 60\nPolygon -16777216 true false 150 255 90 239 62 213 47 191 67 179 90 203 109 218 150 225 192 218 210 203 227 181 251 194 236 217 212 240\n\nface neutral\nfalse\n0\nCircle -7500403 true true 8 7 285\nCircle -16777216 true false 60 75 60\nCircle -16777216 true false 180 75 60\nRectangle -16777216 true false 60 195 240 225\n\nface sad\nfalse\n0\nCircle -7500403 true true 8 8 285\nCircle -16777216 true false 60 75 60\nCircle -16777216 true false 180 75 60\nPolygon -16777216 true false 150 168 90 184 62 210 47 232 67 244 90 220 109 205 150 198 192 205 210 220 227 242 251 229 236 206 212 183\n\nfish\nfalse\n0\nPolygon -1 true false 44 131 21 87 15 86 0 120 15 150 0 180 13 214 20 212 45 166\nPolygon -1 true false 135 195 119 235 95 218 76 210 46 204 60 165\nPolygon -1 true false 75 45 83 77 71 103 86 114 166 78 135 60\nPolygon -7500403 true true 30 136 151 77 226 81 280 119 292 146 292 160 287 170 270 195 195 210 151 212 30 166\nCircle -16777216 true false 215 106 30\n\nflag\nfalse\n0\nRectangle -7500403 true true 60 15 75 300\nPolygon -7500403 true true 90 150 270 90 90 30\nLine -7500403 true 75 135 90 135\nLine -7500403 true 75 45 90 45\n\nflower\nfalse\n0\nPolygon -10899396 true false 135 120 165 165 180 210 180 240 150 300 165 300 195 240 195 195 165 135\nCircle -7500403 true true 85 132 38\nCircle -7500403 true true 130 147 38\nCircle -7500403 true true 192 85 38\nCircle -7500403 true true 85 40 38\nCircle -7500403 true true 177 40 38\nCircle -7500403 true true 177 132 38\nCircle -7500403 true true 70 85 38\nCircle -7500403 true true 130 25 38\nCircle -7500403 true true 96 51 108\nCircle -16777216 true false 113 68 74\nPolygon -10899396 true false 189 233 219 188 249 173 279 188 234 218\nPolygon -10899396 true false 180 255 150 210 105 210 75 240 135 240\n\nhouse\nfalse\n0\nRectangle -7500403 true true 45 120 255 285\nRectangle -16777216 true false 120 210 180 285\nPolygon -7500403 true true 15 120 150 15 285 120\nLine -16777216 false 30 120 270 120\n\nleaf\nfalse\n0\nPolygon -7500403 true true 150 210 135 195 120 210 60 210 30 195 60 180 60 165 15 135 30 120 15 105 40 104 45 90 60 90 90 105 105 120 120 120 105 60 120 60 135 30 150 15 165 30 180 60 195 60 180 120 195 120 210 105 240 90 255 90 263 104 285 105 270 120 285 135 240 165 240 180 270 195 240 210 180 210 165 195\nPolygon -7500403 true true 135 195 135 240 120 255 105 255 105 285 135 285 165 240 165 195\n\nline\ntrue\n0\nLine -7500403 true 150 0 150 300\n\nline half\ntrue\n0\nLine -7500403 true 150 0 150 150\n\npen\nfalse\n6\nPolygon -1184463 true false 75 105 225 255 240 255 255 240 255 225 105 75 90 105\nPolygon -16777216 false false 75 105 90 105 105 90 105 75 255 225 255 240 105 90 90 105 240 255 255 240 240 255 225 255 75 105\nPolygon -2674135 true false 105 75 60 60 75 105 90 105 105 90 105 75\n\npentagon\nfalse\n0\nPolygon -7500403 true true 150 15 15 120 60 285 240 285 285 120\n\nperson\nfalse\n0\nCircle -7500403 true true 110 5 80\nPolygon -7500403 true true 105 90 120 195 90 285 105 300 135 300 150 225 165 300 195 300 210 285 180 195 195 90\nRectangle -7500403 true true 127 79 172 94\nPolygon -7500403 true true 195 90 240 150 225 180 165 105\nPolygon -7500403 true true 105 90 60 150 75 180 135 105\n\nplant\nfalse\n0\nRectangle -7500403 true true 135 90 165 300\nPolygon -7500403 true true 135 255 90 210 45 195 75 255 135 285\nPolygon -7500403 true true 165 255 210 210 255 195 225 255 165 285\nPolygon -7500403 true true 135 180 90 135 45 120 75 180 135 210\nPolygon -7500403 true true 165 180 165 210 225 180 255 120 210 135\nPolygon -7500403 true true 135 105 90 60 45 45 75 105 135 135\nPolygon -7500403 true true 165 105 165 135 225 105 255 45 210 60\nPolygon -7500403 true true 135 90 120 45 150 15 180 45 165 90\n\npolygon full\nfalse\n0\nPolygon -7500403 true true 0 0 300 0 300 300 0 300 0 0\n\nrectangle\nfalse\n0\nRectangle -7500403 true true 0 105 300 195\n\nseed\nfalse\n0\nCircle -7500403 true true 95 75 110\nCircle -7500403 true true 72 104 156\nPolygon -7500403 true true 221 149 195 101 106 99 80 148\nPolygon -7500403 true true 195 105 180 75 165 60 135 60 120 75 105 105 180 90\nCircle -7500403 true true 135 45 30\n\nseed-outline\ntrue\n0\nCircle -16777216 true false 95 75 110\nCircle -16777216 true false 72 104 156\nPolygon -16777216 true false 221 149 195 101 106 99 80 148\nPolygon -16777216 true false 195 105 180 75 165 60 135 60 120 75 105 105 180 90\nCircle -16777216 true false 135 45 30\nCircle -7500403 true true 90 135 120\nPolygon -7500403 true true 120 240 90 210 90 195 90 180 90 150 105 120 120 90 135 75 150 60 165 75 180 90 195 120 210 150 210 165 210 195 210 210 180 240\nPolygon -7500403 true true 120 240\nCircle -7500403 true true 90 120 120\n\nsquare\nfalse\n0\nRectangle -7500403 true true 30 30 270 270\n\nsquare 2\nfalse\n0\nRectangle -7500403 true true 30 30 270 270\nRectangle -16777216 true false 60 60 240 240\n\nsquare full\nfalse\n0\nRectangle -7500403 true true 0 0 300 300\n\nsquare outline\nfalse\n0\nRectangle -7500403 false true 0 0 300 300\n\nsquare outline thick\nfalse\n0\nRectangle -7500403 true true 0 285 300 300\nRectangle -7500403 true true 285 0 300 300\nRectangle -7500403 true true 0 0 300 15\nRectangle -7500403 true true 0 0 15 300\n\nstar\nfalse\n0\nPolygon -7500403 true true 151 1 185 108 298 108 207 175 242 282 151 216 59 282 94 175 3 108 116 108\n\ntarget\nfalse\n0\nCircle -7500403 true true 0 0 300\nCircle -16777216 true false 30 30 240\nCircle -7500403 true true 60 60 180\nCircle -16777216 true false 90 90 120\nCircle -7500403 true true 120 120 60\n\ntile brick\nfalse\n0\nRectangle -1 true false 0 0 300 300\nRectangle -7500403 true true 15 225 150 285\nRectangle -7500403 true true 165 225 300 285\nRectangle -7500403 true true 75 150 210 210\nRectangle -7500403 true true 0 150 60 210\nRectangle -7500403 true true 225 150 300 210\nRectangle -7500403 true true 165 75 300 135\nRectangle -7500403 true true 15 75 150 135\nRectangle -7500403 true true 0 0 60 60\nRectangle -7500403 true true 225 0 300 60\nRectangle -7500403 true true 75 0 210 60\n\ntile brick 2\nfalse\n0\nRectangle -1 true false 0 0 300 300\nRectangle -7500403 true true 0 0 90 120\nRectangle -7500403 true true 120 0 300 120\nRectangle -7500403 true true 0 150 180 270\nRectangle -7500403 true true 210 150 300 270\n\ntile brick 3\nfalse\n0\nRectangle -1 true false 0 0 300 300\nRectangle -7500403 true true 0 0 75 105\nRectangle -7500403 true true 120 0 300 105\nRectangle -7500403 true true 0 150 180 255\nRectangle -7500403 true true 225 150 300 255\n\ntile brick 4\nfalse\n0\nRectangle -1 true false 0 0 300 300\nRectangle -7500403 true true 0 0 75 105\nRectangle -7500403 true true 135 0 315 105\nRectangle -7500403 true true 0 150 165 255\nRectangle -7500403 true true 225 150 300 255\n\ntile log\nfalse\n0\nRectangle -7500403 true true 0 0 300 300\nLine -16777216 false 0 30 45 15\nLine -16777216 false 45 15 120 30\nLine -16777216 false 120 30 180 45\nLine -16777216 false 180 45 225 45\nLine -16777216 false 225 45 165 60\nLine -16777216 false 165 60 120 75\nLine -16777216 false 120 75 30 60\nLine -16777216 false 30 60 0 60\nLine -16777216 false 300 30 270 45\nLine -16777216 false 270 45 255 60\nLine -16777216 false 255 60 300 60\nPolygon -16777216 false false 15 120 90 90 136 95 210 75 270 90 300 120 270 150 195 165 150 150 60 150 30 135\nPolygon -16777216 false false 63 134 166 135 230 142 270 120 210 105 116 120 88 122\nPolygon -16777216 false false 22 45 84 53 144 49 50 31\nLine -16777216 false 0 180 15 180\nLine -16777216 false 15 180 105 195\nLine -16777216 false 105 195 180 195\nLine -16777216 false 225 210 165 225\nLine -16777216 false 165 225 60 225\nLine -16777216 false 60 225 0 210\nLine -16777216 false 300 180 264 191\nLine -16777216 false 255 225 300 210\nLine -16777216 false 16 196 116 211\nLine -16777216 false 180 300 105 285\nLine -16777216 false 135 255 240 240\nLine -16777216 false 240 240 300 255\nLine -16777216 false 135 255 105 285\nLine -16777216 false 180 0 240 15\nLine -16777216 false 240 15 300 0\nLine -16777216 false 0 300 45 285\nLine -16777216 false 45 285 45 270\nLine -16777216 false 45 270 0 255\nPolygon -16777216 false false 150 270 225 300 300 285 228 264\nLine -16777216 false 223 209 255 225\nLine -16777216 false 179 196 227 183\nLine -16777216 false 228 183 266 192\n\ntile stones\nfalse\n0\nRectangle -6459832 true false 0 0 300 300\nPolygon -7500403 true true 0 240 45 195 75 180 90 165 90 135 45 120 0 135\nPolygon -7500403 true true 300 240 285 210 270 180 270 150 300 135 300 225\nPolygon -7500403 true true 225 300 240 270 270 255 285 255 300 285 300 300\nPolygon -7500403 true true 0 285 30 300 0 300\nPolygon -7500403 true true 225 0 210 15 210 30 255 60 285 45 300 30 300 0\nPolygon -7500403 true true 0 30 30 0 0 0\nPolygon -7500403 true true 15 30 75 0 180 0 195 30 225 60 210 90 135 60 45 60\nPolygon -7500403 true true 0 105 30 105 75 120 105 105 90 75 45 75 0 60\nPolygon -7500403 true true 300 60 240 75 255 105 285 120 300 105\nPolygon -7500403 true true 120 75 120 105 105 135 105 165 165 150 240 150 255 135 240 105 210 105 180 90 150 75\nPolygon -7500403 true true 75 300 135 285 195 300\nPolygon -7500403 true true 30 285 75 285 120 270 150 270 150 210 90 195 60 210 15 255\nPolygon -7500403 true true 180 285 240 255 255 225 255 195 240 165 195 165 150 165 135 195 165 210 165 255\n\ntree\nfalse\n0\nCircle -7500403 true true 118 3 94\nRectangle -6459832 true false 120 195 180 300\nCircle -7500403 true true 65 21 108\nCircle -7500403 true true 116 41 127\nCircle -7500403 true true 45 90 120\nCircle -7500403 true true 104 74 152\n\ntriangle\nfalse\n0\nPolygon -7500403 true true 150 30 15 255 285 255\n\ntriangle 2\nfalse\n0\nPolygon -7500403 true true 150 30 15 255 285 255\nPolygon -16777216 true false 151 99 225 223 75 224\n\ntruck\nfalse\n0\nRectangle -7500403 true true 4 45 195 187\nPolygon -7500403 true true 296 193 296 150 259 134 244 104 208 104 207 194\nRectangle -1 true false 195 60 195 105\nPolygon -16777216 true false 238 112 252 141 219 141 218 112\nCircle -16777216 true false 234 174 42\nRectangle -7500403 true true 181 185 214 194\nCircle -16777216 true false 144 174 42\nCircle -16777216 true false 24 174 42\nCircle -7500403 false true 24 174 42\nCircle -7500403 false true 144 174 42\nCircle -7500403 false true 234 174 42\n\nturtle\ntrue\n0\nPolygon -10899396 true false 215 204 240 233 246 254 228 266 215 252 193 210\nPolygon -10899396 true false 195 90 225 75 245 75 260 89 269 108 261 124 240 105 225 105 210 105\nPolygon -10899396 true false 105 90 75 75 55 75 40 89 31 108 39 124 60 105 75 105 90 105\nPolygon -10899396 true false 132 85 134 64 107 51 108 17 150 2 192 18 192 52 169 65 172 87\nPolygon -10899396 true false 85 204 60 233 54 254 72 266 85 252 107 210\nPolygon -7500403 true true 119 75 179 75 209 101 224 135 220 225 175 261 128 261 81 224 74 135 88 99\n\nwheel\nfalse\n0\nCircle -7500403 true true 3 3 294\nCircle -16777216 true false 30 30 240\nLine -7500403 true 150 285 150 15\nLine -7500403 true 15 150 285 150\nCircle -7500403 true true 120 120 60\nLine -7500403 true 216 40 79 269\nLine -7500403 true 40 84 269 221\nLine -7500403 true 40 216 269 79\nLine -7500403 true 84 40 221 269\n\nx\nfalse\n0\nPolygon -7500403 true true 270 75 225 30 30 225 75 270\nPolygon -7500403 true true 30 75 75 30 270 225 225 270\n@#$#@#$#@\nNetLogo 6.1.0\n@#$#@#$#@\n@#$#@#$#@\n@#$#@#$#@\n@#$#@#$#@\n@#$#@#$#@\ndefault\n0\n-0.2 0 0 1\n0 1 1 0\n0.2 0 0 1\nlink direction\ntrue\n0\nLine -7500403 true 150 150 90 180\nLine -7500403 true 150 150 210 180\n@#$#@#$#@\n\n@#$#@#$#@\n","netLogoSettings":{"isVertical":true}}